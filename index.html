<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador Examen WP - Revisi√≥n Detallada</title>
    <style>
        :root { --primary: #2271b1; --success: #28a745; --error: #dc3545; --bg: #f0f0f1; }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background-color: var(--bg); color: #3c434a; margin: 0; padding-bottom: 100px; }
        
        /* HEADER */
        .header { position: fixed; top: 0; left: 0; right: 0; background: #fff; border-bottom: 1px solid #c3c4c7; padding: 15px 20px; z-index: 1000; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 1px 3px rgba(0,0,0,0.05); }
        .logo { font-weight: 800; color: var(--primary); font-size: 1.2rem; }
        .timer-box { font-variant-numeric: tabular-nums; font-size: 1.4rem; font-weight: 700; color: #1d2327; background: #f0f0f1; padding: 5px 15px; border-radius: 4px; }
        
        /* LAYOUT */
        .container { max-width: 800px; margin: 90px auto 20px; padding: 0 20px; }

        /* TARJETAS PREGUNTA */
        .card { background: #fff; border: 1px solid #c3c4c7; padding: 25px; margin-bottom: 25px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.02); }
        .q-text { font-size: 1.15rem; font-weight: 600; margin-bottom: 20px; color: #1d2327; }
        
        /* OPCIONES */
        .option-label { display: flex; align-items: flex-start; gap: 12px; padding: 12px; border: 2px solid #f0f0f1; border-radius: 6px; cursor: pointer; transition: all 0.2s; margin-bottom: 10px; }
        .option-label:hover { background: #f6f7f7; border-color: var(--primary); }
        .option-label input { margin-top: 5px; transform: scale(1.3); cursor: pointer; accent-color: var(--primary); }
        
        /* BOT√ìN FINAL */
        .fab-finish { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%); background: #d63638; color: white; padding: 15px 40px; border-radius: 50px; border: none; font-size: 1.2rem; font-weight: bold; cursor: pointer; box-shadow: 0 4px 15px rgba(214, 54, 56, 0.4); z-index: 999; transition: transform 0.2s; white-space: nowrap; }
        .fab-finish:hover { transform: translateX(-50%) scale(1.05); background: #b32d2e; }

        /* MODAL RESULTADOS */
        .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.9); z-index: 2000; justify-content: center; align-items: center; }
        .modal-content { background: white; width: 90%; max-width: 800px; max-height: 90vh; border-radius: 12px; display: flex; flex-direction: column; overflow: hidden; position: relative; }
        
        .modal-header { padding: 20px; background: #f9f9f9; border-bottom: 1px solid #eee; text-align: center; }
        .score-big { font-size: 2.5rem; font-weight: 800; margin: 10px 0; color: var(--primary); }
        .verdict { font-size: 1.5rem; font-weight: 700; text-transform: uppercase; margin-bottom: 10px; }
        
        .modal-body { padding: 20px; overflow-y: auto; flex-grow: 1; text-align: left; background: #f0f0f1; }
        
        .btn-restart { background: var(--primary); color: white; border: none; padding: 15px; font-size: 1.1rem; cursor: pointer; width: 100%; font-weight: bold; }
        .btn-restart:hover { background: #135e96; }

        /* ESTILOS DE LA REVISI√ìN DETALLADA */
        .review-item { background: white; padding: 15px; margin-bottom: 15px; border-radius: 8px; border-left: 5px solid #ccc; font-size: 0.95rem; }
        .review-item.r-correct { border-left-color: var(--success); background: #f4fff7; }
        .review-item.r-wrong { border-left-color: var(--error); background: #fff5f5; }
        
        .r-question { font-weight: bold; margin-bottom: 10px; display: block; color: #333; }
        .r-user-ans { display: block; margin-bottom: 5px; }
        .r-correct-ans { display: block; margin-bottom: 5px; color: var(--success); font-weight: 600; }
        .r-explanation { display: block; margin-top: 10px; font-style: italic; color: #666; font-size: 0.9rem; border-top: 1px solid rgba(0,0,0,0.05); padding-top: 5px; }

        .tag-correct { color: var(--success); font-weight: bold; }
        .tag-wrong { color: var(--error); font-weight: bold; text-decoration: line-through; }

        /* Progress Bar */
        .progress-container { position: fixed; top: 69px; left: 0; width: 100%; height: 4px; background: #e0e0e0; z-index: 998; }
        .progress-bar { height: 100%; background: var(--primary); width: 0%; transition: width 0.3s; }
    </style>
</head>
<body>

    <div id="result-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 style="margin:0;">RESULTADO</h2>
                <div id="score-display" class="score-big">0 / 50</div>
                <div id="verdict-text" class="verdict">...</div>
                <div style="font-size:0.9rem; color:#666;">
                    ‚úÖ <span id="res-correct">0</span> | 
                    ‚ùå <span id="res-wrong">0</span>
                </div>
            </div>
            
            <div class="modal-body" id="detailed-review">
                </div>

            <button class="btn-restart" onclick="location.reload()">REPETIR EXAMEN (NUEVAS PREGUNTAS)</button>
        </div>
    </div>

    <header class="header">
        <div class="logo">EXAMEN WP</div>
        <div class="timer-box" id="timer">45:00</div>
    </header>
    <div class="progress-container"><div class="progress-bar" id="progress"></div></div>

    <div class="container" id="quiz-container"></div>

    <button class="fab-finish" onclick="finishExam()">FINALIZAR Y CALIFICAR</button>

<script>

  const DB = [
        // --- BLOQUE 1: WORDPRESS T√âCNICO Y CORE ---
        { q: "¬øQu√© archivo es imprescindible editar si necesitas aumentar el l√≠mite de memoria PHP de WordPress manualmente?", o: ["El archivo functions.php del tema", "El archivo wp-config.php de la ra√≠z", "El archivo .htaccess del servidor", "El archivo style.css de la carpeta"], a: 1, e: "Se define la constante WP_MEMORY_LIMIT en wp-config.php." },
        { q: "Si al entrar en 'Enlaces Permanentes' la web da un error 404 en todas las p√°ginas internas, ¬øc√≥mo se suele solucionar?", o: ["Borrando y reinstalando WordPress", "Guardando cambios en Ajustes > Enlaces Permanentes", "Cambiando el tema activo por otro", "Desactivando todos los plugins"], a: 1, e: "Al guardar, WordPress regenera el archivo .htaccess y arregla las rutas." },
        { q: "¬øCu√°l es la funci√≥n t√©cnica de un 'Child Theme' (Tema Hijo) en un desarrollo profesional?", o: ["Hacer que la web cargue m√°s r√°pido", "Preservar cambios de c√≥digo tras actualizar el tema padre", "Mejorar el dise√±o visual del tema", "Crear una copia de seguridad"], a: 1, e: "Evita que una actualizaci√≥n del tema borre tus modificaciones en functions.php o style.css." },
        { q: "En la jerarqu√≠a de plantillas de WordPress, ¬øqu√© archivo tiene prioridad para mostrar una entrada individual?", o: ["El archivo index.php", "El archivo single.php", "El archivo page.php", "El archivo archive.php"], a: 1, e: "WordPress busca 'single.php' para los posts; si no lo encuentra, usa 'index.php'." },
        { q: "¬øQu√© ocurre exactamente si desactivas un plugin que usaba Shortcodes en tus p√°ginas?", o: ["El contenido desaparece por completo", "Se muestra el c√≥digo entre corchetes [shortcode] como texto", "La p√°gina da un error 500 fatal", "WordPress lo oculta autom√°ticamente"], a: 1, e: "Al no ejecutarse la funci√≥n, WordPress muestra el shortcode como texto plano." },
        { q: "¬øPara qu√© sirve definir la constante 'WP_DEBUG' a 'true' en el archivo de configuraci√≥n?", o: ["Para bloquear ataques de hackers", "Para mostrar errores PHP en pantalla y depurar fallos", "Para acelerar la carga de la web", "Para poner la web en mantenimiento"], a: 1, e: "Herramienta esencial de desarrollo para ver por qu√© falla un c√≥digo." },
        { q: "Si necesitas que una p√°gina de inicio NO muestre el blog, ¬øqu√© ajuste es el correcto?", o: ["Ajustes > Lectura > Una p√°gina est√°tica", "Apariencia > Men√∫s > Eliminar Blog", "Ajustes > Generales > Ocultar Blog", "Entradas > Borrar todas las entradas"], a: 0, e: "Debes asignar manualmente qu√© p√°gina act√∫a como 'Home' y cu√°l como 'Blog'." },
        { q: "¬øQu√© tabla de la base de datos almacena la configuraci√≥n global como la URL del sitio?", o: ["La tabla wp_posts", "La tabla wp_users", "La tabla wp_options", "La tabla wp_meta"], a: 2, e: "Es donde se guardan 'siteurl' y 'home', cr√≠ticos para que la web cargue." },
        { q: "¬øQu√© diferencia t√©cnica real existe entre una Categor√≠a y una Etiqueta?", o: ["Las categor√≠as tienen jerarqu√≠a (padre/hijo), las etiquetas no", "Las etiquetas son obligatorias, las categor√≠as opcionales", "Las categor√≠as son para p√°ginas, las etiquetas para posts", "No hay ninguna diferencia t√©cnica"], a: 0, e: "La jerarqu√≠a permite crear subcategor√≠as; las etiquetas son planas." },
        { q: "Para evitar ataques de fuerza bruta, ¬øqu√© medida de seguridad es la m√°s efectiva?", o: ["Cambiar la URL de acceso (/wp-admin) y limitar intentos", "Usar una contrase√±a muy larga", "Instalar un certificado SSL", "Ocultar el nombre del autor"], a: 0, e: "Ocultar la puerta de entrada y bloquear tras fallos reduce dr√°sticamente el riesgo." },

        // --- BLOQUE 2: ELEMENTOR Y MAQUETACI√ìN ---
        { q: "Si dos secciones con efecto 'Sticky' se solapan al hacer scroll, ¬øqu√© propiedad CSS corrige el fallo?", o: ["Aumentar el Margen Superior", "Configurar el Z-Index correctamente", "Usar un Padding negativo", "Cambiar el color de fondo"], a: 1, e: "El Z-Index decide qu√© elemento pasa por encima y cu√°l por debajo." },
        { q: "¬øQu√© hace la opci√≥n 'Regenerar CSS' en las herramientas de Elementor?", o: ["Borra todos los estilos de la web", "Limpia la cach√© interna de estilos y regenera los archivos", "Restablece la configuraci√≥n de f√°brica", "Actualiza la versi√≥n del plugin"], a: 1, e: "Soluci√≥n clave cuando haces cambios en el editor que no se ven en la web p√∫blica." },
        { q: "Para que una secci√≥n ocupe exactamente el 100% de la altura de la pantalla del usuario, usas:", o: ["Altura m√≠nima: 1000 PX", "Altura m√≠nima: 100 VH", "Relleno superior: 50%", "Margen autom√°tico"], a: 1, e: "VH (Viewport Height) adapta la altura al dispositivo del visitante." },
        { q: "¬øQu√© diferencia pr√°ctica hay entre usar 'EM' y 'PX' en tipograf√≠a?", o: ["Los PX son relativos, los EM absolutos", "Los EM escalan seg√∫n la fuente base, los PX son fijos", "Los PX son mejores para m√≥viles", "No hay diferencia visual"], a: 1, e: "EM/REM es mejor para accesibilidad y dise√±o responsive que los p√≠xeles fijos." },
        { q: "¬øC√≥mo se soluciona que un ancla de men√∫ tape el t√≠tulo de la secci√≥n al bajar?", o: ["A√±adiendo un espacio en blanco encima", "Usando la opci√≥n 'Desplazamiento de ancla' (Offset)", "Cambiando el men√∫ a est√°tico", "Reduciendo el tama√±o del men√∫"], a: 1, e: "El offset compensa la altura de la cabecera fija." },
        { q: "En el Theme Builder, ¬øqu√© condici√≥n usas para mostrar una plantilla solo en posts de 'Noticias'?", o: ["Singular > Entradas", "Entradas > Categor√≠a > Noticias", "Archivo > Noticias", "Todo el sitio"], a: 1, e: "Debes filtrar por la taxonom√≠a espec√≠fica dentro de las condiciones de visualizaci√≥n." },
        { q: "¬øQu√© utilidad tiene el 'Navegador' (Navigator) cuando dise√±as con Elementor?", o: ["Previsualizar la web en Google", "Acceder a capas o elementos ocultos dif√≠cilmente clicables", "Navegar entre p√°ginas web", "Ver el historial de cambios"], a: 1, e: "Es indispensable para seleccionar elementos con z-index negativo o superpuestos." },
        { q: "Si quieres reutilizar un dise√±o de bot√≥n en toda la web, ¬øqu√© funci√≥n usas?", o: ["Copiar y pegar el bot√≥n siempre", "Crear un 'Widget Global' del bot√≥n", "Guardar la p√°gina como plantilla", "Usar un shortcode"], a: 1, e: "Al editar el Widget Global, el cambio se aplica en todas las instancias." },
        { q: "¬øQu√© ocurre si desactivas Elementor Pro pero mantienes la versi√≥n gratuita?", o: ["Se borra todo el contenido", "Desaparecen cabeceras, pies y widgets Pro (ej: Forms)", "La web deja de funcionar", "Solo cambia el tipo de letra"], a: 1, e: "El contenido b√°sico se mantiene, pero pierdes el Theme Builder y widgets avanzados." },
        { q: "¬øPara qu√© sirve el 'Punto de Ruptura' (Breakpoint) personalizado?", o: ["Para romper la web a prop√≥sito", "Para decidir a qu√© p√≠xeles exactos cambia el dise√±o a Tablet/M√≥vil", "Para separar secciones", "Para crear men√∫s"], a: 1, e: "Permite ajustar cu√°ndo salta el dise√±o responsive seg√∫n las necesidades." },

        // --- BLOQUE 3: WOOCOMMERCE AVANZADO ---
        { q: "Si vendes un servicio sin env√≠o f√≠sico, ¬øqu√© configuraci√≥n es obligatoria en el producto?", o: ["Marcar como 'Virtual'", "Marcar como 'Descargable'", "Desactivar el stock", "Borrar el peso"], a: 0, e: "Al ser 'Virtual', WooCommerce elimina los campos de env√≠o en el checkout." },
        { q: "¬øQu√© paso es previo y necesario para crear un Producto Variable (ej: Tallas)?", o: ["Crear las variaciones directamente", "Definir los Atributos (Nombre: Talla) y sus t√©rminos", "Establecer el precio global", "Subir todas las fotos"], a: 1, e: "Sin atributos definidos y usados para variaciones, no puedes generar las opciones." },
        { q: "¬øD√≥nde se editan los correos autom√°ticos que recibe el cliente tras la compra?", o: ["En el servidor de correo", "En WooCommerce > Ajustes > Correos electr√≥nicos", "En cada producto individual", "En Apariencia > Personalizar"], a: 1, e: "Desde ah√≠ gestionas destinatarios, asuntos y colores de las notificaciones." },
        { q: "Para vender un pack de productos que el usuario puede comprar por separado, usas:", o: ["Producto Variable", "Producto Agrupado", "Producto Externo", "Producto Simple"], a: 1, e: "El Agrupado lista productos simples hijos en una misma ficha padre." },
        { q: "Si los correos de la tienda no llegan nunca, ¬øcu√°l es la causa m√°s probable?", o: ["WooCommerce est√° mal instalado", "El servidor no tiene configurado un env√≠o SMTP autenticado", "El cliente ha puesto mal su email", "Falta un plugin de dise√±o"], a: 1, e: "El env√≠o PHP nativo suele fallar o ir a SPAM; se requiere un plugin SMTP." },
        { q: "¬øC√≥mo puedes cobrar gastos de env√≠o diferentes para Canarias y Pen√≠nsula?", o: ["No se puede en WooCommerce b√°sico", "Creando dos 'Zonas de Env√≠o' distintas con m√©todos propios", "Usando cupones de descuento", "Pidiendo al cliente que elija"], a: 1, e: "Las Zonas de Env√≠o se asignan geogr√°ficamente por c√≥digos postales o regiones." },
        { q: "¬øQu√© estado de pedido indica que el pago se ha recibido y el stock se ha descontado?", o: ["Pendiente de pago", "En espera", "Procesando", "Completado"], a: 2, e: "'Procesando' es el estado est√°ndar tras un pago exitoso con tarjeta/PayPal." },
        { q: "Si quieres usar WooCommerce solo como cat√°logo (sin compra), ¬øqu√© debes hacer?", o: ["Desinstalar la pasarela de pago", "Ocultar el bot√≥n de 'A√±adir al carrito' mediante c√≥digo o plugin", "Poner precio cero a todo", "Borrar las p√°ginas de tienda"], a: 1, e: "WooCommerce no tiene 'Modo Cat√°logo' nativo, requiere ocultar la acci√≥n de compra." },
        { q: "¬øQu√© permite la opci√≥n 'Gesti√≥n de inventario' a nivel de producto?", o: ["Solo poner si hay stock o no", "Definir la cantidad exacta y que se reste autom√°ticamente al vender", "Cambiar el precio seg√∫n stock", "Nada importante"], a: 1, e: "Evita vender m√°s unidades de las que tienes realmente en almac√©n." },
        { q: "Si un cliente solicita factura, ¬øWooCommerce la genera por defecto?", o: ["S√≠, siempre env√≠a un PDF", "No, requiere un plugin externo de facturaci√≥n (PDF Invoices)", "S√≠, est√° en Ajustes > Impuestos", "Solo si pagas la versi√≥n Pro"], a: 1, e: "WooCommerce nativo env√≠a recibos por email, no facturas legales en PDF." },

        // --- BLOQUE 4: OPTIMIZACI√ìN Y MANTENIMIENTO ---
        { q: "¬øQu√© funci√≥n cumple el 'Lazy Load' en la optimizaci√≥n de im√°genes?", o: ["Hace que las im√°genes pesen menos", "Difiere la carga de im√°genes hasta que el usuario hace scroll hacia ellas", "Baja la calidad de la foto", "Elimina las fotos en m√≥vil"], a: 1, e: "Mejora el tiempo de carga inicial al no cargar recursos que no se ven." },
        { q: "Si recibes el error 'Error HTTP' al subir una imagen a Medios, suele deberse a:", o: ["Que la imagen es un JPG", "Exceso de dimensiones (p√≠xeles) o falta de memoria en el servidor", "Que el nombre es muy corto", "Que WordPress est√° lleno"], a: 1, e: "Ocurre cuando el procesador de im√°genes del servidor se queda sin recursos." },
        { q: "¬øQu√© hace realmente un plugin de cach√© como WP Rocket?", o: ["Borra los archivos antiguos", "Genera archivos HTML est√°ticos para no consultar la base de datos cada vez", "Mejora el dise√±o de la web", "Optimiza las contrase√±as"], a: 1, e: "Sirve una 'fotocopia' de la web para reducir la carga del servidor." },
        { q: "¬øPor qu√© es cr√≠tico cambiar el prefijo 'wp_' de la base de datos?", o: ["Para mejorar la velocidad", "Para dificultar ataques de inyecci√≥n SQL a tablas conocidas por defecto", "Por est√©tica del c√≥digo", "Para poder instalar plugins"], a: 1, e: "Es una medida de seguridad por oscuridad b√°sica y efectiva." },
        { q: "Si la web muestra una 'Pantalla Blanca' tras instalar un plugin y no puedes entrar, ¬øqu√© haces?", o: ["Borrar la base de datos", "Renombrar la carpeta del plugin v√≠a FTP o Gestor de Archivos", "Esperar a que se arregle", "Cambiar el navegador"], a: 1, e: "Al renombrar la carpeta, WordPress desactiva forzosamente el plugin problem√°tico." },
        { q: "¬øPara qu√© sirve el archivo robots.txt en la ra√≠z del servidor?", o: ["Para mejorar el dise√±o m√≥vil", "Para dar instrucciones de rastreo (allow/disallow) a los bots de b√∫squeda", "Para guardar contrase√±as", "Para redirigir usuarios"], a: 1, e: "Controla qu√© partes de la web pueden leer Google y otros buscadores." },
        { q: "¬øQu√© es el 'Mixed Content' (Contenido Mixto) en una web con SSL?", o: ["Tener fotos y v√≠deos juntos", "Cargar recursos HTTP (inseguros) dentro de una p√°gina HTTPS", "Tener dos temas instalados", "Mezclar idiomas"], a: 1, e: "Provoca que el candado de seguridad no aparezca o salga roto." },
        { q: "¬øQu√© plugin es el est√°ndar recomendado en el curso para migraciones sencillas?", o: ["Duplicator o All-in-One WP Migration", "Yoast SEO", "Elementor Pro", "Jetpack"], a: 0, e: "Empaquetan base de datos y archivos en un solo instalador." },
        { q: "Para cumplir el RGPD en formularios, ¬øc√≥mo debe estar el checkbox de aceptaci√≥n?", o: ["Marcado por defecto", "Desmarcado y ser obligatorio para enviar", "Oculto al usuario", "Visible pero opcional"], a: 1, e: "La ley exige una acci√≥n afirmativa y consciente del usuario." },
        { q: "¬øQu√© herramienta externa se recomienda para comprimir im√°genes antes de subir?", o: ["Paint", "Squoosh.app o TinyPNG", "Word", "El propio WordPress"], a: 1, e: "Optimizar antes de subir es mejor que confiar solo en plugins." },

        // --- BLOQUE 5: GENERAL Y CASOS PR√ÅCTICOS ---
        { q: "¬øQu√© es un 'Custom Post Type' (CPT) y cu√°ndo debes usarlo?", o: ["Un plugin de pago", "Un tipo de contenido personalizado para datos que no son ni Entradas ni P√°ginas", "Una configuraci√≥n de tema", "Un usuario especial"], a: 1, e: "Ejemplos: 'Proyectos', 'Inmuebles', 'Doctores'. Estructura mejor el contenido." },
        { q: "Si quieres a√±adir un c√≥digo de seguimiento (Analytics) en el <head>, ¬øc√≥mo lo haces mejor?", o: ["Editando el header.php del tema padre", "Usando un plugin de 'Code Snippets' o 'Header & Footer Code'", "Poni√©ndolo en una entrada", "En el CSS adicional"], a: 1, e: "Editar el tema padre es peligroso porque se borra al actualizar; usar un plugin es seguro." },
        { q: "¬øQu√© significa que una web sea 'Mobile First'?", o: ["Que solo funciona en m√≥viles", "Que el dise√±o y estructura se priorizan para pantallas peque√±as y luego se escalan", "Que Google penaliza el m√≥vil", "Que usa una App"], a: 1, e: "Es el est√°ndar actual de dise√±o y de indexaci√≥n de Google." },
        { q: "¬øPara qu√© sirve el atributo 'alt' en las etiquetas de imagen?", o: ["Para que cargue m√°s r√°pido", "Para accesibilidad (lectores de pantalla) y SEO", "Para poner un borde", "Para ver el t√≠tulo"], a: 1, e: "Describe la imagen si no se puede ver; clave para posicionamiento." },
        { q: "Si un cliente quiere una web multiidioma, ¬øqu√© plugin es el est√°ndar habitual?", o: ["WooCommerce", "WPML o Polylang", "Yoast SEO", "Elementor"], a: 1, e: "Permiten duplicar y relacionar contenidos en varios idiomas." },
        { q: "¬øQu√© es un 'Breadcrumb' (Miga de pan) y para qu√© sirve?", o: ["Un rastro de navegaci√≥n (Inicio > Tienda > Producto) para mejorar la UX", "Un tipo de men√∫ footer", "Un error 404", "Una cookie"], a: 0, e: "Ayuda al usuario a ubicarse y mejora la estructura interna para Google." },
        { q: "¬øQu√© diferencia hay entre un dominio y un hosting?", o: ["Son lo mismo", "El dominio es la direcci√≥n (nombre) y el hosting el alojamiento (archivos)", "El hosting es gratis", "El dominio es el correo"], a: 1, e: "Hosting = Casa. Dominio = Direcci√≥n postal." },
        { q: "Si quieres cambiar el correo de administrador pero no llega la confirmaci√≥n, ¬øqu√© haces?", o: ["Reinstalar WordPress", "Cambiarlo directamente en la base de datos (tabla wp_users) o usar un plugin SMTP", "Crear otro usuario", "Esperar 1 mes"], a: 1, e: "WordPress requiere confirmaci√≥n por email, si el correo falla, hay que forzarlo." },
        { q: "¬øQu√© es un 'Shortcode' en WordPress?", o: ["Un c√≥digo corto [ejemplo] que ejecuta una funcionalidad compleja", "Un error de c√≥digo", "Una contrase√±a", "Un enlace"], a: 0, e: "Forma simplificada de insertar galer√≠as, formularios o productos." },
        { q: "Para crear una copia de seguridad manual r√°pida antes de actualizar, ¬øqu√© es lo mejor?", o: ["Copiar y pegar textos", "Usar un plugin de Backup y descargar el archivo localmente", "Hacer capturas de pantalla", "No hacer nada"], a: 1, e: "Siempre hay que tener un punto de restauraci√≥n externo antes de cambios cr√≠ticos." },

        // --- BLOQUE 6: CONCEPTOS DE EVALUACI√ìN Y PROYECTO ---
        { q: "¬øCu√°l es el requisito m√≠nimo de dedicaci√≥n horaria para el proyecto final?", o: ["10 horas", "40 horas (equivalente a una semana laboral)", "100 horas", "No hay m√≠nimo"], a: 1, e: "El proyecto debe reflejar una carga de trabajo profesional." },
        { q: "¬øEst√° permitido usar texto de relleno 'Lorem Ipsum' en la entrega final?", o: ["S√≠, en todas partes", "No, el contenido debe ser real o realista y original", "Solo en el blog", "S√≠, si no hay tiempo"], a: 1, e: "El uso de contenido ficticio se penaliza o suspende." },
        { q: "¬øQu√© cuatro elementos son OBLIGATORIOS en la entrega del proyecto?", o: ["URL y DNI", "Memoria PDF, Archivo .wpress (backup), Capturas y URL", "Solo la URL", "El tema y los plugins"], a: 1, e: "Sin el backup o la memoria, el proyecto no puede ser evaluado correctamente." },
        { q: "¬øC√≥mo debes justificar el uso de Inteligencia Artificial en tu proyecto?", o: ["No hace falta", "Detallando en la memoria qu√© herramientas y prompts has usado", "Pagando una tasa", "Est√° prohibido"], a: 1, e: "La transparencia en el uso de herramientas generativas es un criterio de evaluaci√≥n." },
        { q: "¬øQu√© ocurre si no entregas la memoria del proyecto?", o: ["Baja la nota", "El proyecto figura como No Presentado o Suspenso", "Te la piden luego", "Nada"], a: 1, e: "Es un documento indispensable para la calificaci√≥n." },
        { q: "¬øQu√© es un 'Mockup' en la fase de dise√±o?", o: ["El c√≥digo final", "Una representaci√≥n visual est√°tica de c√≥mo ser√° la web", "Una copia de seguridad", "Un plugin"], a: 1, e: "Sirve para aprobar el dise√±o con el cliente antes de programar." },
        { q: "¬øQu√© significa que el dise√±o debe ser 'Pixel Perfect'?", o: ["Que tenga muchos p√≠xeles", "Que el desarrollo final sea fiel y exacto al dise√±o aprobado", "Que use fotos HD", "Que sea r√°pido"], a: 1, e: "Es un est√°ndar de calidad en la maquetaci√≥n web." },
        { q: "¬øQu√© es el 'Favicon'?", o: ["El logo del footer", "El icono peque√±o que aparece en la pesta√±a del navegador", "Un error", "Un men√∫"], a: 1, e: "Elemento b√°sico de identidad corporativa web." },
        { q: "¬øQu√© implica la filosof√≠a 'Mobile First'?", o: ["Dise√±ar solo para m√≥viles", "Priorizar el dise√±o y estructura para pantallas peque√±as y escalar despu√©s", "Que Google no mira el PC", "Usar apps"], a: 1, e: "Esencial para el SEO y la usabilidad moderna." },
        { q: "Si usas un formulario de contacto, ¬øqu√© requisito legal es imprescindible?", o: ["Pedir el tel√©fono", "Casilla de aceptaci√≥n de Pol√≠tica de Privacidad desmarcada", "Captcha", "Doble opt-in"], a: 1, e: "Cumplimiento obligatorio del RGPD (Protecci√≥n de Datos)." }
    ];

    let questions = []; 
    let timer;
    let timeLeft = 45 * 60; 

    // Inicializar
    function init() {
        if(typeof DB === 'undefined') return alert("‚ö†Ô∏è ERROR: No has pegado las preguntas en el c√≥digo.");
        
        // Coger 50 aleatorias
        questions = DB.sort(() => 0.5 - Math.random()).slice(0, 50);
        
        const container = document.getElementById('quiz-container');
        container.innerHTML = ""; 
        
        questions.forEach((q, index) => {
            let html = `
                <div class="card" id="card-${index}">
                    <div class="q-text"><span style="color:#2271b1">#${index + 1}</span> ${q.q}</div>
                    <div class="options-group">
            `;
            
            // Indices para opciones (0,1,2,3)
            let indices = q.o.map((_, i) => i);

            indices.forEach(i => {
                html += `
                    <label class="option-label">
                        <input type="radio" name="q_${index}" value="${i}">
                        ${q.o[i]}
                    </label>
                `;
            });

            html += `</div></div>`;
            container.innerHTML += html;
        });

        startTimer();
        
        // Barra de progreso
        document.querySelectorAll('input').forEach(i => {
            i.addEventListener('change', () => {
                const answered = document.querySelectorAll('input:checked').length;
                document.getElementById('progress').style.width = `${(answered/50)*100}%`;
            });
        });
    }

    // FINALIZAR Y MOSTRAR DETALLES
    window.finishExam = function() {
        clearInterval(timer);
        
        let correctCount = 0;
        let reviewHTML = "";

        // Recorremos las 50 preguntas
        questions.forEach((q, index) => {
            const selected = document.querySelector(`input[name="q_${index}"]:checked`);
            let userVal = selected ? parseInt(selected.value) : -1; // -1 si no respondi√≥
            let isCorrect = (userVal === q.a);
            
            if (isCorrect) correctCount++;

            // Generar HTML del reporte detallado
            let statusClass = isCorrect ? "r-correct" : "r-wrong";
            let icon = isCorrect ? "‚úÖ" : "‚ùå";
            
            // Texto de la respuesta del usuario
            let userText = (userVal !== -1) 
                ? `<span class="${isCorrect ? 'tag-correct' : 'tag-wrong'}">${q.o[userVal]}</span>` 
                : `<span style="color:#666; font-weight:bold;">(En blanco)</span>`;

            // HTML de cada bloque de revisi√≥n
            reviewHTML += `
                <div class="review-item ${statusClass}">
                    <span class="r-question">${index + 1}. ${q.q}</span>
                    <span class="r-user-ans">Tu respuesta: ${userText} ${icon}</span>
                    ${!isCorrect ? `<span class="r-correct-ans">Soluci√≥n: ${q.o[q.a]}</span>` : ''}
                    <span class="r-explanation">üí° ${q.e}</span>
                </div>
            `;
        });

        // CALCULAR NOTA Y BAREMO
        // Escala: 30-34 Apto, 35-39 Bien, 40-44 Notable, 45-50 Sobresaliente
        let verdict = "";
        let color = "";

        if (correctCount >= 45) {
            verdict = "SOBRESALIENTE üèÜ";
            color = "#28a745";
        } else if (correctCount >= 40) {
            verdict = "NOTABLE üåü";
            color = "#17a2b8";
        } else if (correctCount >= 35) {
            verdict = "BIEN üëç";
            color = "#2271b1";
        } else if (correctCount >= 30) {
            verdict = "APTO üëå";
            color = "#fd7e14"; // Naranja
        } else {
            verdict = "NO APTO ‚ùå";
            color = "#dc3545";
        }

        // PINTAR RESULTADOS
        document.getElementById('score-display').innerText = `${correctCount} / 50`;
        document.getElementById('score-display').style.color = color;
        
        const vText = document.getElementById('verdict-text');
        vText.innerText = verdict;
        vText.style.color = color;

        document.getElementById('res-correct').innerText = correctCount;
        document.getElementById('res-wrong').innerText = 50 - correctCount;

        // Insertar el reporte detallado
        document.getElementById('detailed-review').innerHTML = reviewHTML;

        // Mostrar Modal
        document.getElementById('result-modal').style.display = 'flex';
    };

    function startTimer() {
        timer = setInterval(() => {
            timeLeft--;
            let m = Math.floor(timeLeft / 60);
            let s = timeLeft % 60;
            document.getElementById('timer').innerText = `${m}:${s < 10 ? '0'+s : s}`;
            if(timeLeft <= 0) finishExam();
        }, 1000);
    }

    // Arrancar al cargar (si DB existe)
    window.onload = function() {
        if(typeof DB !== 'undefined') init();
    };

</script>
</body>
</html>