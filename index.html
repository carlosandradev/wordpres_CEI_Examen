<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador WordPress CEI - Versi√≥n Final Pro</title>
    <style>
        :root { --primary: #2271b1; --success: #00a32a; --error: #d63638; --bg: #f0f0f1; }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background-color: var(--bg); color: #3c434a; margin: 0; padding-bottom: 100px; }
        
        /* HEADER FIJO */
        .header { position: fixed; top: 0; left: 0; right: 0; background: #fff; border-bottom: 1px solid #c3c4c7; padding: 10px 20px; z-index: 1000; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 1px 3px rgba(0,0,0,0.05); }
        .logo { font-weight: 700; color: var(--primary); font-size: 1.2rem; }
        .timer-box { font-variant-numeric: tabular-nums; font-size: 1.5rem; font-weight: 600; color: #1d2327; }
        .pause-btn { background: #f6f7f7; border: 1px solid #2271b1; color: #2271b1; padding: 5px 15px; cursor: pointer; border-radius: 3px; font-weight: 600; transition: 0.2s; }
        .pause-btn:hover { background: #f0f0f1; }

        /* CONTENEDOR */
        .container { max-width: 800px; margin: 80px auto 20px; padding: 0 15px; }

        /* TARJETAS DE PREGUNTA */
        .card { background: #fff; border: 1px solid #c3c4c7; padding: 20px; margin-bottom: 20px; border-left: 4px solid var(--primary); box-shadow: 0 1px 2px rgba(0,0,0,0.05); position: relative; }
        .q-text { font-size: 1.1rem; font-weight: 600; margin-bottom: 15px; line-height: 1.4; }
        
        .option-label { display: flex; align-items: flex-start; gap: 10px; padding: 10px; border: 1px solid #dcdcde; border-radius: 4px; cursor: pointer; transition: all 0.2s; margin-bottom: 8px; }
        .option-label:hover { background: #f6f7f7; border-color: var(--primary); }
        .option-label input { margin-top: 4px; transform: scale(1.2); cursor: pointer; }

        /* ESTADOS DE RESPUESTA */
        .option-label.correct { background: #edfaef; border-color: var(--success); color: #005c1e; }
        .option-label.wrong { background: #fcf0f1; border-color: var(--error); color: #8a2424; text-decoration: line-through; }
        .explanation-box { display: none; margin-top: 15px; padding: 12px; background: #f0f0f1; border-left: 4px solid #72aee6; font-size: 0.95rem; }
        
        /* BOTONES */
        .check-btn { background: var(--primary); color: white; border: none; padding: 8px 16px; border-radius: 3px; cursor: pointer; font-size: 0.9rem; margin-top: 10px; }
        .check-btn:hover { background: #135e96; }
        .check-btn:disabled { background: #a7aaad; cursor: default; }

        .fab-finish { position: fixed; bottom: 20px; right: 20px; background: var(--error); color: white; padding: 15px 30px; border-radius: 50px; border: none; font-size: 1.1rem; font-weight: bold; cursor: pointer; box-shadow: 0 4px 10px rgba(0,0,0,0.2); z-index: 999; transition: transform 0.2s; }
        .fab-finish:hover { transform: scale(1.05); background: #b32d2e; }

        /* MODALES */
        .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.85); z-index: 2000; justify-content: center; align-items: center; flex-direction: column; color: white; text-align: center; }
        .modal-content { background: white; color: #333; padding: 40px; border-radius: 8px; max-width: 500px; width: 90%; text-align: center; }
        .score-big { font-size: 4rem; font-weight: 800; margin: 10px 0; color: var(--primary); }
        .btn-restart { background: var(--success); color: white; border: none; padding: 15px 30px; font-size: 1.2rem; cursor: pointer; border-radius: 5px; width: 100%; margin-top: 20px; }
        
        /* BARRA PROGRESO */
        .progress-bar { position: fixed; top: 60px; left: 0; height: 5px; background: #ddd; width: 100%; z-index: 999; }
        .progress-fill { height: 100%; background: #00a0d2; width: 0%; transition: width 0.3s; }
    </style>
</head>
<body>

    <div id="pause-modal" class="modal">
        <h1>EXAMEN PAUSADO</h1>
        <button class="pause-btn" onclick="togglePause()" style="font-size:1.5rem; padding: 20px 40px; background:white; border:none;">REANUDAR</button>
    </div>

    <div id="results-modal" class="modal">
        <div class="modal-content">
            <h2>Resultado Final</h2>
            <div id="score-display" class="score-big">0.0</div>
            <p id="score-msg" style="font-size: 1.2rem;"></p>
            <div style="text-align:left; margin-top:20px; background:#f0f0f1; padding:15px; border-radius:5px;">
                <p>‚úÖ Aciertos: <span id="res-correct">0</span></p>
                <p>‚ùå Fallos: <span id="res-wrong">0</span></p>
                <p>‚ö™ Sin responder: <span id="res-blank">0</span></p>
            </div>
            <button class="btn-restart" onclick="location.reload()">GENERAR NUEVO EXAMEN</button>
        </div>
    </div>

    <header class="header">
        <div class="logo">Examen WP (50 Preguntas)</div>
        <div style="display: flex; gap: 15px; align-items: center;">
            <div class="timer-box" id="timer">45:00</div>
            <button class="pause-btn" onclick="togglePause()">II PAUSA</button>
        </div>
    </header>
    <div class="progress-bar"><div class="progress-fill" id="progress"></div></div>

    <div class="container" id="quiz-container"></div>

    <button class="fab-finish" onclick="finishExam()">FINALIZAR Y CORREGIR TODO</button>

<script>
    // --- BASE DE DATOS CORREGIDA (120 PREGUNTAS) ---
    const DB = [
        // --- BLOQUE 1: CONCEPTOS B√ÅSICOS DE WORDPRESS (Lo esencial) ---
        { q: "¬øCu√°l es la diferencia principal entre una Entrada (Post) y una P√°gina?", o: ["No hay diferencia", "Las Entradas son para noticias (cronol√≥gicas) y las P√°ginas para contenido est√°tico (Qui√©nes somos)", "Las P√°ginas no admiten fotos", "Las Entradas son para vender"], a: 1, e: "Pregunta cl√°sica. Entradas = Blog/Noticias. P√°ginas = Estructura fija de la web." },
        { q: "¬øQu√© es un Plugin?", o: ["Un dise√±o", "Una herramienta que instalas para a√±adir nuevas funciones a WordPress (como un formulario o tienda)", "Un virus", "La base de datos"], a: 1, e: "Son como las apps de tu m√≥vil: a√±aden funcionalidades extra." },
        { q: "¬øQu√© es un Tema (Theme)?", o: ["La apariencia visual de la web (dise√±o, colores, tipograf√≠a)", "El panel de control", "Un tipo de usuario", "El hosting"], a: 0, e: "Es el encargado de definir c√≥mo se 've' tu web." },
        { q: "¬øPara qu√© sirve la Biblioteca de Medios?", o: ["Para guardar plugins", "Para gestionar todas las im√°genes, v√≠deos y documentos subidos", "Para ver los comentarios", "Para editar c√≥digo"], a: 1, e: "Todo archivo que subes a la web va aqu√≠." },
        { q: "Si quieres que tu web NO aparezca en Google mientras la est√°s creando, ¬øqu√© marcas?", o: ["Nada, Google no entra", "La casilla 'Disuadir a los motores de b√∫squeda' en Ajustes > Lectura", "Borras la web", "Pones una contrase√±a al ordenador"], a: 1, e: "Muy importante acordarse de desmarcarla al terminar el proyecto." },
        { q: "¬øD√≥nde se cambia el T√≠tulo del Sitio y la Descripci√≥n Corta?", o: ["En Apariencia > Men√∫s", "En Ajustes > Generales", "En Plugins", "En Usuarios"], a: 1, e: "Es la configuraci√≥n b√°sica de identidad de tu WordPress." },
        { q: "¬øQu√© es el 'Slug'?", o: ["Un virus", "La parte final de la URL que identifica una p√°gina (ej: miweb.com/contacto)", "El dominio", "El t√≠tulo"], a: 1, e: "Debe ser corto, en min√∫sculas y sin espacios." },
        { q: "¬øQu√© estructura de Enlaces Permanentes es la mejor para el SEO?", o: ["Simple (?p=123)", "Nombre de la entrada (Post name)", "Num√©rico", "Mes y nombre"], a: 1, e: "Ayuda a Google y a los usuarios a entender de qu√© va la p√°gina solo leyendo el enlace." },
        { q: "¬øQu√© rol de usuario tiene acceso a TODO (instalar plugins, cambiar temas, crear usuarios)?", o: ["Editor", "Autor", "Administrador", "Colaborador"], a: 2, e: "Es el rol que tienes t√∫ como creador de la web." },
        { q: "¬øC√≥mo se llama el archivo donde se guardan los datos de conexi√≥n a la base de datos?", o: ["index.php", "wp-admin.php", "wp-config.php", "style.css"], a: 2, e: "Pregunta de examen de Rafa. Es el archivo de configuraci√≥n vital." },

        // --- BLOQUE 2: ELEMENTOR (Dise√±o Visual) ---
        { q: "¬øPara qu√© sirve el 'Navegador' (Navigator) en Elementor?", o: ["Para entrar en Google", "Es un panel de capas para ver y seleccionar secciones f√°cilmente", "Para ver el mapa", "Para guardar"], a: 1, e: "Fundamental cuando tienes elementos superpuestos o no encuentras una secci√≥n." },
        { q: "¬øQu√© diferencia hay entre Margen (Margin) y Relleno (Padding)?", o: ["Son iguales", "Margen es espacio FUERA del borde (separa elementos), Relleno es espacio DENTRO (separa contenido del borde)", "Al rev√©s", "Solo sirven para texto"], a: 1, e: "Margen separa cajas entre s√≠. Relleno hace la caja m√°s grande por dentro." },
        { q: "¬øQu√© es el 'Modo Responsive' en Elementor?", o: ["Un modo r√°pido", "La herramienta para adaptar el dise√±o a M√≥vil y Tablet", "Un plugin", "Un error"], a: 1, e: "Te permite cambiar tama√±os de letra o m√°rgenes solo para el m√≥vil." },
        { q: "Si quieres que una secci√≥n ocupe toda la altura de la pantalla, ¬øqu√© pones?", o: ["Alto: 500px", "Alto M√≠nimo: 100 VH (Viewport Height)", "Ancho completo", "Padding 0"], a: 1, e: "100 VH significa el 100% de la altura visible del dispositivo." },
        { q: "¬øQu√© es una Plantilla (Template) de Elementor?", o: ["Un dise√±o guardado (ej: una cabecera) que puedes reutilizar en toda la web", "Un plugin", "Una p√°gina", "Un men√∫"], a: 0, e: "Ahorra tiempo y mantiene la coherencia del dise√±o." },
        { q: "¬øPara qu√© sirve el Z-Index?", o: ["Para el zoom", "Para decidir qu√© elemento se ve encima de otro (capas)", "Para el color", "Para el borde"], a: 1, e: "Cuanto mayor es el n√∫mero, m√°s 'arriba' est√° el elemento." },
        { q: "¬øC√≥mo arreglas que el men√∫ tape el t√≠tulo de una secci√≥n al hacer clic en un enlace (ancla)?", o: ["Borrando el men√∫", "Usando la opci√≥n 'Desplazamiento de ancla' (Offset)", "Con margen negativo", "No tiene arreglo"], a: 1, e: "Compensa la altura del men√∫ fijo." },
        { q: "¬øQu√© es un 'Global Color'?", o: ["Un color mundial", "Un color guardado en ajustes que, si lo cambias, se actualiza en toda la web", "Un fondo", "Un error"], a: 1, e: "Esencial para cambiar la identidad corporativa r√°pidamente." },
        { q: "¬øQu√© widget usas para poner un mapa de Google?", o: ["Imagen", "Google Maps", "Video", "Editor de texto"], a: 1, e: "Viene por defecto en Elementor." },
        { q: "Si un cambio de estilo no se ve en la web pero s√≠ en el editor, ¬øqu√© suele ser?", o: ["Virus", "Problema de Cach√© (del navegador o plugin)", "Base de datos rota", "Falta pagar"], a: 1, e: "Borrar cach√© o 'Regenerar CSS' suele solucionarlo." },

        // --- BLOQUE 3: WOOCOMMERCE (Tienda) ---
        { q: "¬øQu√© tipo de producto usas para vender una camiseta con tallas S, M y L?", o: ["Producto Simple", "Producto Variable", "Producto Virtual", "Producto Externo"], a: 1, e: "Permite crear variaciones, cada una con su stock y precio si quieres." },
        { q: "Si vendes un servicio o un PDF (algo que no se env√≠a en caja), ¬øqu√© casilla marcas?", o: ["Virtual", "F√≠sico", "Agrupado", "Externo"], a: 0, e: "Al marcar 'Virtual', desaparecen los costes de env√≠o en el carrito." },
        { q: "¬øQu√© estado de pedido significa que el pago ha sido correcto?", o: ["Pendiente de pago", "Cancelado", "Procesando", "En espera"], a: 2, e: "Significa que el dinero ha llegado y debes preparar el pedido." },
        { q: "¬øPara qu√© sirve una 'Zona de Env√≠o'?", o: ["Para saber d√≥nde est√° el almac√©n", "Para definir precios de env√≠o distintos seg√∫n el lugar (ej: Pen√≠nsula vs Canarias)", "Para el mapa", "Para los impuestos"], a: 1, e: "Permite cobrar portes diferentes seg√∫n el destino." },
        { q: "¬øD√≥nde se gestionan los pedidos recibidos?", o: ["En Entradas", "En WooCommerce > Pedidos", "En Productos", "En Ajustes"], a: 1, e: "Es tu bandeja de entrada de ventas." },
        { q: "¬øQu√© m√©todo de pago podemos usar en el curso para simular compras?", o: ["Bitcoin", "Transferencia bancaria o Contrareembolso", "Tarjeta real obligatoria", "Paypal real"], a: 1, e: "Permite probar todo el proceso de compra sin gastar dinero real." },
        { q: "¬øQu√© es un Producto Agrupado?", o: ["Un pack indivisible", "Una p√°gina que muestra varios productos simples juntos (ej: colecci√≥n de ropa)", "Un producto variable", "Un descuento"], a: 1, e: "El usuario puede a√±adir cantidades de cada sub-producto." },
        { q: "Si quieres vender productos de Amazon (Afiliados), ¬øqu√© tipo usas?", o: ["Producto Simple", "Producto Externo/Afiliado", "Producto Variable", "Virtual"], a: 1, e: "El bot√≥n de compra lleva a la web de Amazon en vez de al carrito." },
        { q: "¬øPor qu√© no sale la pesta√±a de Impuestos al principio?", o: ["Es de pago", "Hay que activarla en Ajustes > General primero", "Es un error", "No existe"], a: 1, e: "WooCommerce viene simplificado por defecto." },
        { q: "¬øQu√© plugin mejora los desplegables de tallas poni√©ndolos como botoncitos de colores?", o: ["Contact Form 7", "Variation Swatches", "Yoast", "Jetpack"], a: 1, e: "Mejora mucho la experiencia de usuario visual." },

        // --- BLOQUE 4: HERRAMIENTAS Y PLUGINS FAMOSOS ---
        { q: "¬øQu√© es 'LocalWP'?", o: ["Un plugin", "Un programa para crear webs en tu ordenador sin internet", "Un hosting", "Un tema"], a: 1, e: "Es donde desarrollamos las webs en el curso antes de subirlas." },
        { q: "¬øPara qu√© sirve el plugin 'Yoast SEO'?", o: ["Para dise√±ar", "Para ayudar a posicionar en Google (sem√°foros verde/rojo)", "Para seguridad", "Para copias"], a: 1, e: "Te dice si tu contenido es amigable para Google." },
        { q: "¬øQu√© hace un plugin de Copias de Seguridad (Backup)?", o: ["Borra la web", "Guarda una copia de todos los archivos y base de datos por si algo se rompe", "Traduce", "Vende"], a: 1, e: "Ejemplos: All-in-One WP Migration o Duplicator." },
        { q: "¬øPara qu√© sirve 'Contact Form 7'?", o: ["Para crear formularios de contacto", "Para SEO", "Para tiendas", "Para seguridad"], a: 0, e: "Es el est√°ndar cl√°sico para formularios." },
        { q: "¬øQu√© hace un plugin de Seguridad como Wordfence?", o: ["Mejora el dise√±o", "Protege la web de ataques y virus (Firewall)", "Vende productos", "Traduce"], a: 1, e: "Bloquea intentos de acceso maliciosos." },
        { q: "¬øQu√© es 'Squoosh'?", o: ["Un juego", "Una web de Google para comprimir im√°genes antes de subirlas", "Un plugin", "Un tema"], a: 1, e: "Clave para que las fotos pesen poco." },
        { q: "¬øQu√© es 'Loco Translate'?", o: ["Un traductor autom√°tico", "Un plugin para traducir textos t√©cnicos del tema (ej: 'Read more' -> 'Leer m√°s')", "Un mapa", "Un error"], a: 1, e: "Permite traducir las cadenas internas de WordPress." },
        { q: "¬øQu√© es un CPT (Custom Post Type)?", o: ["Un post normal", "Un tipo de contenido personalizado (ej: Proyectos, Recetas)", "Un usuario", "Un plugin"], a: 1, e: "Se usa cuando las Entradas y P√°ginas se quedan cortas." },
        { q: "¬øQu√© es un Shortcode?", o: ["Un c√≥digo corto entre corchetes [ ] que invoca una funci√≥n", "Un error", "Una contrase√±a", "Un virus"], a: 0, e: "Ejemplo: [contact-form-7 id='123']." },
        { q: "¬øQu√© es el 'Lazy Load'?", o: ["Carga lenta", "Carga diferida (las im√°genes cargan solo cuando bajas a verlas)", "Un error", "Un virus"], a: 1, e: "Hace que la web cargue mucho m√°s r√°pido al principio." },

        // --- BLOQUE 5: CONCEPTOS GENERALES (Hosting, Dominios, Legal) ---
        { q: "¬øQu√© es el Hosting?", o: ["El nombre de la web", "El espacio en un servidor donde se guardan tus archivos (la casa)", "El dise√±o", "El navegador"], a: 1, e: "Sin hosting no hay web online." },
        { q: "¬øQu√© es el Dominio?", o: ["El hosting", "La direcci√≥n de la web (ej: google.com)", "El dise√±o", "El c√≥digo"], a: 1, e: "Es lo que escribes en la barra del navegador." },
        { q: "¬øQu√© es HTTPS (el candadito)?", o: ["Seguridad (conexi√≥n cifrada)", "Web lenta", "Web antigua", "Virus"], a: 0, e: "Obligatorio hoy en d√≠a para que la web sea segura." },
        { q: "¬øQu√© es el 'Responsive Design'?", o: ["Que la web responda r√°pido", "Que la web se adapte bien a m√≥viles y tablets", "Que sea barata", "Que sea azul"], a: 1, e: "La web debe verse bien en cualquier tama√±o de pantalla." },
        { q: "¬øQu√© es el texto ALT de una imagen?", o: ["El t√≠tulo", "Descripci√≥n para Google y personas ciegas", "El borde", "El pie de foto"], a: 1, e: "Importante para el SEO y la accesibilidad." },
        { q: "¬øQu√© documento legal es obligatorio tener en la web?", o: ["Pol√≠tica de Privacidad", "El curr√≠culum", "Instagram", "Nada"], a: 0, e: "Debes informar de qu√© haces con los datos de los usuarios." },
        { q: "Si la web se queda en blanco (Pantalla Blanca), ¬øqu√© suele ser?", o: ["Se rompi√≥ el monitor", "Error interno, normalmente por un plugin incompatible", "Virus", "Internet lento"], a: 1, e: "Suele arreglarse desactivando el √∫ltimo plugin instalado." },
        { q: "¬øCu√°l es el peso recomendado para una imagen web?", o: ["5 MB", "1 MB", "Menos de 200 KB aprox", "No importa"], a: 2, e: "Si pesan mucho, la web ir√° muy lenta." },
        { q: "¬øQu√© es un Favicon?", o: ["El logo grande", "El icono peque√±ito en la pesta√±a del navegador", "El pie de p√°gina", "Un men√∫"], a: 1, e: "Ayuda a identificar la web en las pesta√±as abiertas." },
        { q: "¬øQu√© es un Mockup?", o: ["Un dise√±o visual (boceto) de c√≥mo ser√° la web antes de hacerla", "Una copia de seguridad", "Un virus", "Un c√≥digo"], a: 0, e: "Se hace en Photoshop/Figma para ense√±ar al cliente." },

        // --- BLOQUE 6: DETALLES DEL EXAMEN CEI ---
        { q: "¬øCu√°ntas horas m√≠nimas de trabajo debe reflejar el proyecto?", o: ["10 horas", "40 horas", "100 horas", "1 hora"], a: 1, e: "Equivale a una semana de trabajo intensivo." },
        { q: "¬øSe puede usar texto falso 'Lorem Ipsum' en el proyecto final?", o: ["S√≠, en todas partes", "No, est√° prohibido (debe ser contenido real o realista)", "Solo en el blog", "Da igual"], a: 1, e: "El contenido es parte fundamental de la evaluaci√≥n." },
        { q: "¬øQu√© es obligatorio entregar junto con la URL de la web?", o: ["Nada m√°s", "Una Memoria en PDF y una copia de seguridad", "El DNI", "Una foto"], a: 1, e: "Sin la memoria explicativa no se corrige." },
        { q: "Si usas Inteligencia Artificial (IA) en el proyecto, ¬øqu√© debes hacer?", o: ["No decir nada", "Explicarlo en la memoria (qu√© prompts usaste)", "Pagar un extra", "Est√° prohibido"], a: 1, e: "Se permite, pero siendo transparente sobre su uso." },
        { q: "¬øQu√© pasa si suspendes 4 veces?", o: ["Nada", "Pierdes el derecho al diploma", "Pagas m√°s", "Repites gratis"], a: 1, e: "Es el l√≠mite de convocatorias." },
        { q: "¬øC√≥mo se llama el editor nativo de WordPress para escribir entradas?", o: ["Classic", "Gutenberg (Editor de bloques)", "Elementor", "Divi"], a: 1, e: "Es el sistema de bloques que viene por defecto." },
        { q: "¬øQu√© es la 'Jerarqu√≠a de Plantillas'?", o: ["El orden de los jefes", "Las reglas que sigue WordPress para elegir qu√© dise√±o mostrar", "Un plugin", "Un error"], a: 1, e: "Ejemplo: Si no hay dise√±o espec√≠fico de categor√≠a, usa el gen√©rico." },
        { q: "¬øQu√© es un 'Sidebar'?", o: ["Una barra lateral donde poner widgets", "El men√∫ superior", "El pie de p√°gina", "Un error"], a: 0, e: "Cl√°sico en los blogs para poner categor√≠as o buscadores." },
        { q: "¬øQu√© es una 'Categor√≠a' en el blog?", o: ["Una etiqueta", "Una forma de agrupar temas generales (ej: Deportes, Cine)", "Una p√°gina", "Un usuario"], a: 1, e: "Es jer√°rquica (pueden tener subcategor√≠as)." },
        { q: "¬øQu√© es una 'Etiqueta' (Tag)?", o: ["Una categor√≠a", "Una palabra clave espec√≠fica para describir un post", "Un men√∫", "Un plugin"], a: 1, e: "No tienen jerarqu√≠a, son detalles puntuales." }
        { q: "Si quieres que tu p√°gina de inicio sea una p√°gina est√°tica (ej: Home) y no el blog, ¬ød√≥nde lo configuras?", o: ["En Ajustes > Lectura", "En Apariencia > Personalizar", "En Ajustes > Generales", "En Entradas"], a: 0, e: "Debes cambiar 'Tu p√°gina de inicio muestra' de 'Tus √∫ltimas entradas' a 'Una p√°gina est√°tica'." },
        { q: "¬øPara qu√© sirve la 'Imagen Destacada' de una entrada?", o: ["Es la imagen que sale dentro del texto", "Es la portada del post que se ve en los listados y al compartir en redes", "Es el fondo de la web", "Es el logo"], a: 1, e: "Es la imagen representativa principal, distinta a las que insertas en el contenido." },
        { q: "¬øQu√© ocurre si cambias la visibilidad de una entrada a 'Privada'?", o: ["Nadie puede verla", "Solo pueden verla los Administradores y Editores conectados", "Se borra de Google", "Pide contrase√±a"], a: 1, e: "Es √∫til para contenido interno o borradores que necesitan revisi√≥n." },
        { q: "¬øC√≥mo se llama la funci√≥n que permite recuperar una versi√≥n anterior de un post si te equivocas?", o: ["Copias de seguridad", "Revisiones", "Control Z", "Papelera"], a: 1, e: "WordPress guarda autoguardados y versiones anteriores en la barra lateral del editor." },
        { q: "¬øQu√© es la 'Edici√≥n R√°pida' en el listado de entradas?", o: ["Un plugin", "Una opci√≥n para cambiar t√≠tulo, slug, categor√≠a o estado sin entrar al editor", "Una forma de escribir m√°s r√°pido", "No existe"], a: 1, e: "Ahorra mucho tiempo para cambios menores de gesti√≥n." },
        { q: "¬øD√≥nde se cambia la zona horaria y el formato de fecha de la web?", o: ["En el servidor", "En Ajustes > Generales", "En Usuarios", "En el Tema"], a: 1, e: "Importante para que las entradas programadas salgan a la hora correcta." },
        { q: "Si borras una p√°gina por error, ¬ød√≥nde va?", o: ["Se elimina para siempre", "A la Papelera (se puede recuperar durante 30 d√≠as)", "Al servidor", "Al correo"], a: 1, e: "Funciona igual que la papelera de reciclaje de tu ordenador." },
        { q: "¬øQu√© diferencia hay entre 'Borrador' y 'Pendiente de revisi√≥n'?", o: ["Ninguna", "Borrador es privado; Pendiente avisa a un editor para que lo apruebe antes de publicar", "Pendiente es para borrar", "Borrador es p√∫blico"], a: 1, e: "Parte del flujo de trabajo editorial de WordPress." },
        { q: "¬øPara qu√© sirven las 'Opciones de Pantalla' (pesta√±a arriba a la derecha)?", o: ["Para cambiar el color", "Para mostrar/ocultar cajas del panel (ej: ocultar campos personalizados o comentarios)", "Para salir", "Para ver la web"], a: 1, e: "Permite limpiar la interfaz del admin de cosas que no usas." },
        { q: "Si quieres fijar una entrada para que salga siempre la primera en el blog, ¬øqu√© opci√≥n usas?", o: ["Publicar inmediatamente", "Fijar a la parte superior del blog (Sticky post)", "Cambiar la fecha", "Ponerle muchas etiquetas"], a: 1, e: "Altera el orden cronol√≥gico normal poniendo esa entrada en el foco." },

        // --- BLOQUE 2: ELEMENTOR (USO PR√ÅCTICO) ---
        { q: "¬øQu√© diferencia hay entre 'Elementor Canvas' y 'Elementor Ancho Completo' en Estructura de P√°gina?", o: ["Ninguna", "Canvas borra cabecera y pie (lienzo en blanco); Ancho Completo mantiene cabecera/pie del tema", "Canvas es para pintar", "Ancho Completo es m√°s lento"], a: 1, e: "Canvas es ideal para Landing Pages donde no quieres men√∫ de navegaci√≥n." },
        { q: "¬øC√≥mo copias el estilo (color, fuente) de un widget a otro r√°pidamente?", o: ["No se puede", "Clic derecho > Copiar, y en el otro Clic derecho > Pegar Estilo", "Anotando los c√≥digos", "Usando un plugin"], a: 1, e: "Ahorra tener que configurar cada widget manualmente uno por uno." },
        { q: "¬øPara qu√© sirve el 'Historial' (icono de reloj) en Elementor?", o: ["Para ver la hora", "Para deshacer cambios recientes (acciones) o volver a versiones guardadas anteriormente", "Para ver qui√©n visita la web", "Para medir tiempos"], a: 1, e: "Tu salvavidas si rompes el dise√±o y quieres volver atr√°s." },
        { q: "¬øQu√© es un 'Divisor de Forma' (Shape Divider)?", o: ["Una l√≠nea", "Formas decorativas (olas, curvas, nubes) que se ponen arriba o abajo de una secci√≥n", "Un error", "Un widget de texto"], a: 1, e: "Recurso de dise√±o muy usado para transiciones suaves entre secciones." },
        { q: "Si quieres que un elemento aparezca con una animaci√≥n al hacer scroll, ¬ød√≥nde vas?", o: ["Estilo > Tipograf√≠a", "Avanzado > Efectos de movimiento > Animaci√≥n de entrada", "Contenido", "Ajustes del sitio"], a: 1, e: "Fade In, Slide Up, Zoom In, etc." },
        { q: "¬øQu√© significa el icono de escritorio/tablet/m√≥vil junto a una propiedad en Elementor?", o: ["Que solo funciona en escritorio", "Que puedes definir valores distintos para cada dispositivo (Responsive)", "Que es de pago", "Nada"], a: 1, e: "Ejemplo: Tama√±o de letra 50px en PC y 20px en M√≥vil." },
        { q: "¬øQu√© es una 'Etiqueta Din√°mica' (Dynamic Tag) en Elementor Pro?", o: ["Una etiqueta HTML", "Una funci√≥n para que un widget muestre datos variables de la DB (ej: T√≠tulo del Post) en vez de texto fijo", "Un error", "Un plugin"], a: 1, e: "La base para crear plantillas que se rellenan solas." },
        { q: "¬øPara qu√© sirve la opci√≥n 'Ocultar en m√≥vil' en la pesta√±a Avanzado > Adaptabilidad?", o: ["Para borrar el elemento", "Para que ese elemento no se cargue o no se vea cuando el usuario entra desde un tel√©fono", "Para hacerlo m√°s peque√±o", "Para moverlo"], a: 1, e: "√ötil cuando una secci√≥n es muy grande para pantallas peque√±as." },
        { q: "Si quieres guardar una secci√≥n que has dise√±ado para usarla en otra p√°gina, ¬øqu√© haces?", o: ["Hacer una foto", "Clic derecho en la secci√≥n > Guardar como plantilla", "Copiar el c√≥digo HTML", "No se puede"], a: 1, e: "Se guarda en 'Mis Plantillas' y puedes insertarla donde quieras." },
        { q: "¬øQu√© es el 'Modo Seguro' de Elementor?", o: ["Un antivirus", "Un modo de carga que a√≠sla Elementor de temas y plugins para solucionar errores de carga", "Un dise√±o feo", "Una copia"], a: 1, e: "Se activa cuando Elementor no consigue cargar el editor." },

        // --- BLOQUE 3: WOOCOMMERCE (GESTI√ìN DE TIENDA) ---
        { q: "¬øQu√© es el SKU de un producto?", o: ["El precio", "Un c√≥digo √∫nico de referencia interna (Stock Keeping Unit) para identificar el producto", "El nombre", "La imagen"], a: 1, e: "Opcional pero recomendado para inventarios grandes." },
        { q: "¬øC√≥mo activas el uso de Cupones de descuento?", o: ["Viene siempre activo", "En WooCommerce > Ajustes > General > Activar cupones", "En Productos", "Con un plugin extra"], a: 1, e: "Si no marcas la casilla, el campo de 'Introducir cup√≥n' no sale en el carrito." },
        { q: "¬øQu√© diferencia hay entre la 'Imagen del producto' y la 'Galer√≠a del producto'?", o: ["Ninguna", "La Imagen es la principal (portada); la Galer√≠a son las fotos adicionales", "La Galer√≠a es para el blog", "La Imagen es peque√±a"], a: 1, e: "La imagen principal es la que se ve en el cat√°logo." },
        { q: "Si quieres gestionar el stock (unidades disponibles), ¬øqu√© marcas en el producto?", o: ["Nada", "Pesta√±a Inventario > Gesti√≥n de inventario (track stock)", "Poner el precio", "Pesta√±a Env√≠o"], a: 1, e: "Permite poner cantidad (ej: 50) y que se reste al vender." },
        { q: "¬øQu√© permite la opci√≥n 'Permitir compra como invitado' en Ajustes > Cuentas?", o: ["Regalar productos", "Que los clientes compren sin tener que crearse una cuenta y contrase√±a obligatoria", "Que compren gratis", "Nada"], a: 1, e: "Reduce la fricci√≥n en el checkout y aumenta conversiones." },
        { q: "¬øD√≥nde configuras los correos a los que llegan los avisos de 'Nuevo Pedido'?", o: ["En tu Gmail", "En WooCommerce > Ajustes > Correos electr√≥nicos", "En el producto", "En Usuarios"], a: 1, e: "Por defecto va al admin, pero puedes poner al encargado del almac√©n." },
        { q: "¬øQu√© es una 'Nota del pedido'?", o: ["Un post-it", "Un sistema para a√±adir informaci√≥n interna o enviar mensajes al cliente dentro del pedido", "Un error", "Una factura"], a: 1, e: "√ötil para enviar el n√∫mero de seguimiento manual al cliente." },
        { q: "Si un cliente pide devoluci√≥n, ¬øc√≥mo se hace el Reembolso en WooCommerce?", o: ["Por transferencia manual", "Desde el propio pedido > Bot√≥n Reembolso (autom√°tico si la pasarela lo permite o manual)", "Borrando el pedido", "No se puede"], a: 1, e: "Genera registros contables negativos correctos." },
        { q: "¬øQu√© son los 'Productos relacionados' que salen abajo?", o: ["Publicidad", "Productos de la misma categor√≠a o etiqueta que WC muestra autom√°ticamente", "Productos caros", "Un error"], a: 1, e: "Ayudan a la navegaci√≥n cruzada." },
        { q: "¬øD√≥nde se asigna la p√°gina que actuar√° como 'Tienda', 'Carrito' y 'Mi cuenta'?", o: ["Se hace solo", "En WooCommerce > Ajustes > Avanzado", "En Apariencia", "En Plugins"], a: 1, e: "Si borras esas p√°ginas por error, debes volver a asignarlas aqu√≠." },

        // --- BLOQUE 4: PLUGINS Y FUNCIONALIDADES ESPEC√çFICAS ---
        { q: "¬øPara qu√© sirve 'Akismet'?", o: ["Para SEO", "Para filtrar el SPAM en los comentarios y formularios", "Para dise√±ar", "Para copias"], a: 1, e: "Viene preinstalado en WordPress." },
        { q: "¬øQu√© hace el plugin 'Redirection'?", o: ["Redirige usuarios", "Gestiona redirecciones 301 y monitoriza errores 404 autom√°ticamente", "Borra la web", "Crea men√∫s"], a: 1, e: "Muy √∫til si cambias URLs antiguas por nuevas para no perder SEO." },
        { q: "¬øPara qu√© sirve un plugin de SMTP (como WP Mail SMTP)?", o: ["Para dise√±ar correos", "Para asegurar que los emails de WordPress llegan a la bandeja de entrada y no a Spam", "Para escribir posts", "Para vender"], a: 1, e: "Conecta WP con un servicio de correo real (Gmail, Sendgrid, etc)." },
        { q: "¬øQu√© funci√≥n cumple 'Really Simple SSL'?", o: ["Pone el candado", "Fuerza la web a cargar en HTTPS y arregla contenido mixto autom√°ticamente", "Crea certificados", "Nada"], a: 1, e: "Soluci√≥n r√°pida para errores de seguridad b√°sicos." },
        { q: "¬øQu√© es 'UpdraftPlus'?", o: ["Un plugin de dise√±o", "Un plugin popular para hacer y restaurar copias de seguridad en la nube (Drive/Dropbox)", "Un tema", "Un editor"], a: 1, e: "Alternativa a All-in-One Migration." },
        { q: "¬øPara qu√© sirve 'WPS Hide Login'?", o: ["Para no poder entrar", "Para cambiar la URL de acceso '/wp-admin' por otra secreta (ej: '/mi-entrada')", "Para cambiar la contrase√±a", "Para el dise√±o"], a: 1, e: "Medida de seguridad para evitar ataques de fuerza bruta." },
        { q: "¬øQu√© hace 'Smush' o 'Imagify'?", o: ["Crea galer√≠as", "Comprimen y optimizan las im√°genes autom√°ticamente al subirlas", "Borran fotos", "Ponen marcas de agua"], a: 1, e: "WPO: Ahorran espacio y mejoran velocidad." },
        { q: "¬øQu√© plugin es necesario para crear Campos Personalizados (ej: Fecha de estreno, Director)?", o: ["ACF (Advanced Custom Fields)", "Contact Form 7", "Yoast", "WooCommerce"], a: 0, e: "Permite a√±adir datos extra a los posts que WP no trae por defecto." },
        { q: "¬øPara qu√© sirve 'Duplicator'?", o: ["Para duplicar posts", "Para clonar la web entera y moverla de un servidor a otro (Migraci√≥n)", "Para duplicar fotos", "Para copiar textos"], a: 1, e: "Crea un paquete instalador completo." },
        { q: "¬øQu√© es 'Cookie Notice' o 'CookieYes'?", o: ["Un plugin de cocina", "A√±ade el banner de consentimiento de cookies para cumplir la ley", "Borra cookies", "Rastrea usuarios"], a: 1, e: "Obligatorio para cumplimiento legal en Europa." },

        // --- BLOQUE 5: APARIENCIA Y MEN√öS ---
        { q: "¬øC√≥mo a√±ades un enlace personalizado (ej: a Facebook) en el men√∫?", o: ["No se puede", "En Apariencia > Men√∫s > Enlaces personalizados", "Creando una p√°gina", "Con un plugin"], a: 1, e: "Permite poner URLs externas en la navegaci√≥n." },
        { q: "Si activas un tema nuevo, ¬øqu√© pasa con los Widgets?", o: ["Se quedan igual", "A veces se mueven a 'Widgets inactivos' si las √°reas cambian", "Se borran", "Se duplican"], a: 1, e: "Depende de c√≥mo se llamen las √°reas (Sidebars) en el nuevo tema." },
        { q: "¬øD√≥nde se cambia el logotipo de la web generalmente?", o: ["En el c√≥digo", "En Apariencia > Personalizar > Identidad del sitio (o en las opciones del tema)", "En Medios", "En Ajustes"], a: 1, e: "Es la ubicaci√≥n est√°ndar de WordPress." },
        { q: "¬øQu√© es un 'Widget de pie de p√°gina'?", o: ["Un error", "Contenido que aparece en las columnas del footer (ej: Copyright, Mapa, Enlaces)", "Un men√∫", "Una entrada"], a: 1, e: "Se configuran en Apariencia > Widgets." },
        { q: "¬øQu√© es la 'Imagen de cabecera'?", o: ["El logo", "Una imagen grande que algunos temas muestran arriba del todo", "El favicon", "El fondo"], a: 1, e: "Caracter√≠stica cl√°sica de temas de WordPress." },
        { q: "Si quieres crear un men√∫ desplegable (submen√∫), ¬øc√≥mo lo haces?", o: ["Con c√≥digo", "En Apariencia > Men√∫s, arrastrando un elemento ligeramente a la derecha debajo del 'padre'", "Creando carpetas", "No se puede"], a: 1, e: "La jerarqu√≠a visual crea la estructura desplegable." },
        { q: "¬øQu√© es la ubicaci√≥n del men√∫ 'Principal' o 'Primario'?", o: ["El men√∫ del admin", "El lugar donde el tema muestra la navegaci√≥n principal (normalmente arriba)", "El footer", "La barra lateral"], a: 1, e: "Debes asignar tu men√∫ a esta ubicaci√≥n para que se vea." },
        { q: "¬øQu√© es el 'Fondo' en Personalizar?", o: ["El color o imagen que se ve detr√°s de todo el contenido de la web", "El logo", "El footer", "El header"], a: 1, e: "Afecta al <body> del sitio." },
        { q: "¬øQu√© es un 'Tema Hijo' (Child Theme) Configurator?", o: ["Un plugin que crea el tema hijo por ti sin tocar c√≥digo", "Un editor", "Un dise√±o", "Un virus"], a: 1, e: "Facilita la creaci√≥n de la estructura carpeta/style.css/functions.php." },
        { q: "¬øQu√© pasa si editas el CSS en 'CSS Adicional'?", o: ["Se borra al actualizar WP", "Se guarda en la base de datos y se aplica sobre el tema", "Rompe la web", "Nada"], a: 1, e: "Es una forma segura de hacer peque√±os retoques visuales." },

        // --- BLOQUE 6: SALUD DEL SITIO Y MANTENIMIENTO ---
        { q: "¬øD√≥nde puedes ver si tu WordPress tiene problemas cr√≠ticos (PHP antiguo, errores)?", o: ["En el dashboard", "En Herramientas > Salud del sitio (Site Health)", "En Ajustes", "En Google"], a: 1, e: "Te da una puntuaci√≥n y consejos de mejora." },
        { q: "¬øPor qu√© es importante actualizar los Plugins?", o: ["Para tener colores nuevos", "Por seguridad (parches) y nuevas funcionalidades", "Para gastar espacio", "No es importante"], a: 1, e: "Los plugins desactualizados son la principal entrada de hackeos." },
        { q: "Si activas el 'Modo Mantenimiento', ¬øqu√© ven los usuarios?", o: ["La web normal", "Una p√°gina de aviso (Estamos trabajando...) y no pueden navegar", "Un error 404", "Nada"], a: 1, e: "Se usa para que nadie vea la web rota mientras haces cambios grandes." },
        { q: "¬øQu√© significa que un plugin sea 'Compatible' con tu versi√≥n de WP?", o: ["Que funciona bien y el autor lo ha probado", "Que es gratis", "Que es de pago", "Que es bonito"], a: 1, e: "Siempre revisa esto antes de instalar para evitar errores." },
        { q: "Si un plugin rompe la web y no puedes entrar al admin, ¬øqu√© haces?", o: ["Llorar", "Entrar por FTP/Hosting y renombrar la carpeta del plugin para desactivarlo a la fuerza", "Reinstalar todo", "Cambiar contrase√±a"], a: 1, e: "Truco de emergencia para recuperar el acceso." },
        { q: "¬øQu√© es la 'Cach√© del navegador'?", o: ["Un virus", "Archivos que se guardan en el ordenador del visitante para no descargarlos de nuevo", "Una base de datos", "Un plugin"], a: 1, e: "Hacer que dure m√°s tiempo mejora la puntuaci√≥n en PageSpeed." },
        { q: "¬øQu√© es un 'Enlace Roto'?", o: ["Un link que lleva a una p√°gina que ya no existe (404)", "Un link feo", "Un link azul", "Un virus"], a: 1, e: "Malo para el usuario y para el SEO." },
        { q: "¬øPara qu√© sirve 'Regenerar miniaturas' (Regenerate Thumbnails)?", o: ["Para borrar fotos", "Para volver a crear los tama√±os de imagen si cambias de tema", "Para subir calidad", "Para bajar peso"], a: 1, e: "Si las fotos se ven deformes tras cambiar de dise√±o, usa esto." },
        { q: "¬øQu√© es el 'Spam' en comentarios?", o: ["Comentarios basura/publicidad autom√°tica", "Comentarios buenos", "Emails", "Usuarios"], a: 0, e: "Hay que borrarlos o usar Akismet." },
        { q: "¬øQu√© es la versi√≥n de PHP?", o: ["El dise√±o", "La versi√≥n del lenguaje del servidor (ej: 7.4, 8.0). Debe estar actualizada para velocidad y seguridad", "El plugin", "El tema"], a: 1, e: "WordPress corre sobre PHP; si es viejo, WP ir√° lento." }
    ];

    // VARIABLES DE ESTADO
    let questions = []; // Las 50 seleccionadas
    let userAnswers = {};
    let timer;
    let timeLeft = 45 * 60; // 45 min
    let isPaused = false;

    // INICIALIZACI√ìN
    function init() {
        // 1. Barajar y coger 50
        questions = DB.sort(() => 0.5 - Math.random()).slice(0, 50);
        
        // 2. Renderizar
        const container = document.getElementById('quiz-container');
        container.innerHTML = ""; // Limpiar
        
        questions.forEach((q, index) => {
            // Crear HTML de la pregunta
            let html = `
                <div class="card" id="card-${index}">
                    <div class="q-text">${index + 1}. ${q.q}</div>
                    <div class="options-group">
            `;
            
            let indices = q.o.map((_, i) => i); // [0, 1, 2, 3]
            // indices.sort(() => 0.5 - Math.random()); // Descomentar para barajar opciones

            indices.forEach(i => {
                html += `
                    <label class="option-label" id="lbl-${index}-${i}">
                        <input type="radio" name="q_${index}" value="${i}">
                        ${q.o[i]}
                    </label>
                `;
            });

            html += `
                    </div>
                    <button class="check-btn" onclick="check(${index})">Comprobar</button>
                    <div class="explanation-box" id="exp-${index}"></div>
                </div>
            `;
            container.innerHTML += html;
        });

        // 3. Iniciar Timer
        startTimer();
    }

    // --- L√ìGICA DE CORRECCI√ìN H√çBRIDA ---

    // 1. Funci√≥n para comprobar UNA pregunta individual (Bot√≥n azul)
    window.check = function(index) {
        const selected = document.querySelector(`input[name="q_${index}"]:checked`);
        if (!selected) return alert("Por favor, selecciona una opci√≥n antes de comprobar.");

        const val = parseInt(selected.value);
        const correct = questions[index].a;
        
        const card = document.getElementById(`card-${index}`);
        const btn = card.querySelector('.check-btn');
        const expBox = document.getElementById(`exp-${index}`);
        
        // Guardar
        userAnswers[index] = (val === correct);

        // Bloquear
        const inputs = card.querySelectorAll('input');
        inputs.forEach(inp => inp.disabled = true);
        btn.disabled = true;
        btn.textContent = "Revisado";
        btn.style.background = "#a7aaad";

        // Feedback
        if (val === correct) {
            document.getElementById(`lbl-${index}-${val}`).classList.add('correct');
            expBox.innerHTML = `<strong>‚úÖ ¬°CORRECTO!</strong><br>${questions[index].e}`;
            expBox.style.borderLeftColor = "#00a32a";
        } else {
            document.getElementById(`lbl-${index}-${val}`).classList.add('wrong');
            document.getElementById(`lbl-${index}-${correct}`).classList.add('correct');
            expBox.innerHTML = `<strong>‚ùå INCORRECTO.</strong><br>La correcta es la marcada en verde.<br><em>${questions[index].e}</em>`;
            expBox.style.borderLeftColor = "#d63638";
        }
        expBox.style.display = "block";
    };

    // 2. Funci√≥n FINAL (Bot√≥n rojo flotante) - CORRIGE TODO LO PENDIENTE
    window.finishExam = function() {
        clearInterval(timer);

        questions.forEach((q, index) => {
            // Si ya se corrigi√≥ individualmente, saltar
            if (userAnswers.hasOwnProperty(index)) return;

            const selected = document.querySelector(`input[name="q_${index}"]:checked`);
            
            if (selected) {
                const val = parseInt(selected.value);
                userAnswers[index] = (val === q.a);
                
                if (val !== q.a) {
                    document.getElementById(`lbl-${index}-${val}`).classList.add('wrong');
                }
                document.getElementById(`lbl-${index}-${q.a}`).classList.add('correct');
            } else {
                userAnswers[index] = false; // Fallo por no responder
                document.getElementById(`lbl-${index}-${q.a}`).classList.add('correct'); // Mostrar cu√°l era
            }
            
            // Bloquear visualmente
            const card = document.getElementById(`card-${index}`);
            const inputs = card.querySelectorAll('input');
            const btn = card.querySelector('.check-btn');
            inputs.forEach(inp => inp.disabled = true);
            if(btn) btn.disabled = true;
        });

        // Calcular Nota
        const totalAciertos = Object.values(userAnswers).filter(r => r === true).length;
        const totalPreguntas = questions.length;
        const notaFinal = (totalAciertos / totalPreguntas) * 10;

        // Mostrar
        document.getElementById('score-display').innerText = notaFinal.toFixed(1);
        document.getElementById('res-correct').innerText = totalAciertos;
        document.getElementById('res-wrong').innerText = totalPreguntas - totalAciertos;
        
        const msg = document.getElementById('score-msg');
        if (notaFinal >= 5) {
            msg.innerHTML = "<strong style='color:#00a32a'>¬°ENHORABUENA, HAS APROBADO! üéâ</strong>";
        } else {
            msg.innerHTML = "<strong style='color:#d63638'>HAS SUSPENDIDO. NECESITAS REPASAR. üìö</strong>";
        }

        document.getElementById('result-modal').style.display = 'flex';
    };

    // TIMER
    function startTimer() {
        timer = setInterval(() => {
            if(!isPaused) {
                timeLeft--;
                let m = Math.floor(timeLeft / 60);
                let s = timeLeft % 60;
                document.getElementById('timer').innerText = `${m}:${s < 10 ? '0'+s : s}`;
                if(timeLeft <= 0) finishExam();
            }
        }, 1000);
    }

    window.togglePause = function() {
        isPaused = !isPaused;
        document.getElementById('pause-modal').style.display = isPaused ? 'flex' : 'none';
    };

    init();

</script>
</body>
</html>