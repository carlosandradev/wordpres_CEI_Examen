<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Examen Oficial WordPress CEI</title>
    <style>
        :root { --primary: #2271b1; --success: #d4edda; --success-text: #155724; --error: #f8d7da; --error-text: #721c24; --bg: #f0f0f1; }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background-color: var(--bg); color: #3c434a; margin: 0; padding-bottom: 120px; }
        
        /* HEADER */
        .header { position: fixed; top: 0; left: 0; right: 0; background: #fff; border-bottom: 1px solid #c3c4c7; padding: 15px 20px; z-index: 1000; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .logo { font-weight: 800; color: #135e96; font-size: 1.2rem; text-transform: uppercase; }
        .timer-box { font-variant-numeric: tabular-nums; font-size: 1.4rem; font-weight: 700; color: #1d2327; background: #f0f0f1; padding: 5px 15px; border-radius: 4px; }
        
        /* LAYOUT */
        .container { max-width: 800px; margin: 100px auto 20px; padding: 0 20px; }

        /* TARJETAS */
        .card { background: #fff; border: 1px solid #c3c4c7; padding: 25px; margin-bottom: 25px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.02); position: relative; }
        .q-text { font-size: 1.15rem; font-weight: 600; margin-bottom: 20px; line-height: 1.5; color: #1d2327; }
        
        /* OPCIONES */
        .option-label { display: flex; align-items: flex-start; gap: 12px; padding: 12px; border: 2px solid #f0f0f1; border-radius: 6px; cursor: pointer; transition: all 0.2s; margin-bottom: 10px; }
        .option-label:hover { background: #f6f7f7; border-color: #2271b1; }
        .option-label input { margin-top: 5px; transform: scale(1.3); cursor: pointer; accent-color: #2271b1; }
        
        /* ESTADOS DE CORRECCI√ìN (Solo visibles al final) */
        .card.correct-card { border-left: 6px solid #28a745; }
        .card.wrong-card { border-left: 6px solid #dc3545; }

        .option-label.correct-answer { background: var(--success) !important; border-color: #c3e6cb !important; color: var(--success-text); font-weight: 600; }
        .option-label.user-wrong { background: var(--error) !important; border-color: #f5c6cb !important; color: var(--error-text); text-decoration: line-through; opacity: 0.8; }
        
        .explanation-box { display: none; margin-top: 20px; padding: 15px; background: #fff; border-top: 1px solid #eee; font-size: 0.95rem; color: #50575e; }
        .explanation-box strong { display: block; margin-bottom: 5px; }

        /* BOT√ìN FINAL */
        .fab-finish { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%); background: #d63638; color: white; padding: 15px 40px; border-radius: 50px; border: none; font-size: 1.2rem; font-weight: bold; cursor: pointer; box-shadow: 0 4px 15px rgba(214, 54, 56, 0.4); z-index: 999; transition: transform 0.2s; white-space: nowrap; }
        .fab-finish:hover { transform: translateX(-50%) scale(1.05); background: #b32d2e; }

        /* MODAL RESULTADOS */
        .modal { display: none; position: fixed; inset: 0; background: rgba(255,255,255,0.95); z-index: 2000; justify-content: center; align-items: center; flex-direction: column; text-align: center; }
        .modal-content { background: white; padding: 40px; border-radius: 15px; box-shadow: 0 10px 40px rgba(0,0,0,0.1); max-width: 500px; width: 90%; border: 1px solid #ddd; }
        
        .score-circle { width: 150px; height: 150px; background: #2271b1; color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 3.5rem; font-weight: 800; margin: 0 auto 20px; box-shadow: 0 5px 15px rgba(34, 113, 177, 0.3); }
        .verdict { font-size: 2rem; font-weight: 800; margin-bottom: 10px; text-transform: uppercase; }
        .stats { display: flex; justify-content: space-around; margin: 20px 0; background: #f9f9f9; padding: 15px; border-radius: 8px; }
        .stat-item span { display: block; font-weight: bold; font-size: 1.2rem; }
        .stat-item label { font-size: 0.85rem; text-transform: uppercase; color: #666; }

        .btn-restart { background: #135e96; color: white; border: none; padding: 15px 30px; font-size: 1.1rem; cursor: pointer; border-radius: 6px; width: 100%; margin-top: 10px; font-weight: 600; }
        .btn-restart:hover { background: #0a4b78; }

        /* Progress Bar */
        .progress-container { position: fixed; top: 69px; left: 0; width: 100%; height: 4px; background: #e0e0e0; z-index: 998; }
        .progress-bar { height: 100%; background: #2271b1; width: 0%; transition: width 0.3s; }

    </style>
</head>
<body>

    <div id="result-modal" class="modal">
        <div class="modal-content">
            <h2 style="margin-top:0; color:#444;">RESULTADO FINAL</h2>
            
            <div id="score-circle" class="score-circle">0</div>
            <div id="verdict-text" class="verdict">APTO</div>
            
            <div class="stats">
                <div class="stat-item"><span id="res-correct" style="color:#28a745">0</span><label>Aciertos</label></div>
                <div class="stat-item"><span id="res-wrong" style="color:#dc3545">0</span><label>Fallos</label></div>
                <div class="stat-item"><span id="res-blank" style="color:#666">0</span><label>En Blanco</label></div>
            </div>

            <p style="color:#666; font-size:0.9rem;">Se han calificado 50 preguntas.</p>
            <button class="btn-restart" onclick="location.reload()">GENERAR NUEVO EXAMEN</button>
        </div>
    </div>

    <header class="header">
        <div class="logo">SIMULADOR WP</div>
        <div class="timer-box" id="timer">45:00</div>
    </header>
    <div class="progress-container"><div class="progress-bar" id="progress"></div></div>

    <div class="container" id="quiz-container">
        </div>

    <button class="fab-finish" onclick="finishExam()">FINALIZAR Y VER NOTA</button>

<script>
    // --- POOL DE PREGUNTAS (120 - NIVEL MEDIO/T√âCNICO) ---
    const DB = [
        // BLOQUE 1: CONCEPTOS B√ÅSICOS
        { q: "¬øCu√°l es la diferencia principal entre una Entrada (Post) y una P√°gina?", o: ["No hay diferencia", "Las Entradas son para noticias (cronol√≥gicas) y las P√°ginas para contenido est√°tico (Qui√©nes somos)", "Las P√°ginas no admiten fotos", "Las Entradas son para vender"], a: 1, e: "Entradas = Blog/Noticias. P√°ginas = Estructura fija de la web." },
        { q: "¬øQu√© es un Plugin?", o: ["Un dise√±o", "Una herramienta que instalas para a√±adir nuevas funciones a WordPress (como un formulario o tienda)", "Un virus", "La base de datos"], a: 1, e: "Son como las apps de tu m√≥vil: a√±aden funcionalidades extra." },
        { q: "¬øQu√© es un Tema (Theme)?", o: ["La apariencia visual de la web (dise√±o, colores, tipograf√≠a)", "El panel de control", "Un tipo de usuario", "El hosting"], a: 0, e: "Es el encargado de definir c√≥mo se 've' tu web." },
        { q: "Si quieres que tu web NO aparezca en Google mientras la est√°s creando, ¬øqu√© marcas?", o: ["Nada, Google no entra", "La casilla 'Disuadir a los motores de b√∫squeda' en Ajustes > Lectura", "Borras la web", "Pones una contrase√±a al ordenador"], a: 1, e: "Muy importante acordarse de desmarcarla al terminar el proyecto." },
        { q: "¬øD√≥nde se cambia el T√≠tulo del Sitio y la Descripci√≥n Corta?", o: ["En Apariencia > Men√∫s", "En Ajustes > Generales", "En Plugins", "En Usuarios"], a: 1, e: "Es la configuraci√≥n b√°sica de identidad de tu WordPress." },
        { q: "¬øQu√© es el 'Slug'?", o: ["Un virus", "La parte final de la URL que identifica una p√°gina (ej: miweb.com/contacto)", "El dominio", "El t√≠tulo"], a: 1, e: "Debe ser corto, en min√∫sculas y sin espacios." },
        { q: "¬øQu√© estructura de Enlaces Permanentes es la mejor para el SEO?", o: ["Simple (?p=123)", "Nombre de la entrada (Post name)", "Num√©rico", "Mes y nombre"], a: 1, e: "Ayuda a Google y a los usuarios a entender de qu√© va la p√°gina solo leyendo el enlace." },
        { q: "¬øQu√© rol de usuario tiene acceso a TODO (instalar plugins, cambiar temas, crear usuarios)?", o: ["Editor", "Autor", "Administrador", "Colaborador"], a: 2, e: "Es el rol que tienes t√∫ como creador de la web." },
        { q: "¬øC√≥mo se llama el archivo donde se guardan los datos de conexi√≥n a la base de datos?", o: ["index.php", "wp-admin.php", "wp-config.php", "style.css"], a: 2, e: "Es el archivo de configuraci√≥n vital." },
        { q: "Si quieres que tu p√°gina de inicio sea una p√°gina est√°tica (ej: Home) y no el blog, ¬ød√≥nde lo configuras?", o: ["En Ajustes > Lectura", "En Apariencia > Personalizar", "En Ajustes > Generales", "En Entradas"], a: 0, e: "Debes cambiar 'Tu p√°gina de inicio muestra' de 'Tus √∫ltimas entradas' a 'Una p√°gina est√°tica'." },
        { q: "¬øPara qu√© sirve la 'Imagen Destacada' de una entrada?", o: ["Es la imagen que sale dentro del texto", "Es la portada del post que se ve en los listados y al compartir en redes", "Es el fondo de la web", "Es el logo"], a: 1, e: "Es la imagen representativa principal, distinta a las que insertas en el contenido." },
        { q: "¬øQu√© ocurre si cambias la visibilidad de una entrada a 'Privada'?", o: ["Nadie puede verla", "Solo pueden verla los Administradores y Editores conectados", "Se borra de Google", "Pide contrase√±a"], a: 1, e: "Es √∫til para contenido interno o borradores que necesitan revisi√≥n." },
        { q: "¬øC√≥mo se llama la funci√≥n que permite recuperar una versi√≥n anterior de un post si te equivocas?", o: ["Copias de seguridad", "Revisiones", "Control Z", "Papelera"], a: 1, e: "WordPress guarda autoguardados y versiones anteriores en la barra lateral del editor." },
        { q: "¬øQu√© es la 'Edici√≥n R√°pida' en el listado de entradas?", o: ["Un plugin", "Una opci√≥n para cambiar t√≠tulo, slug, categor√≠a o estado sin entrar al editor", "Una forma de escribir m√°s r√°pido", "No existe"], a: 1, e: "Ahorra mucho tiempo para cambios menores de gesti√≥n." },
        { q: "Si borras una p√°gina por error, ¬ød√≥nde va?", o: ["Se elimina para siempre", "A la Papelera (se puede recuperar durante 30 d√≠as)", "Al servidor", "Al correo"], a: 1, e: "Funciona igual que la papelera de reciclaje de tu ordenador." },

        // BLOQUE 2: ELEMENTOR
        { q: "¬øPara qu√© sirve el 'Navegador' (Navigator) en Elementor?", o: ["Para entrar en Google", "Es un panel de capas para ver y seleccionar secciones f√°cilmente", "Para ver el mapa", "Para guardar"], a: 1, e: "Fundamental cuando tienes elementos superpuestos o no encuentras una secci√≥n." },
        { q: "¬øQu√© diferencia hay entre Margen (Margin) y Relleno (Padding)?", o: ["Son iguales", "Margen es espacio FUERA del borde (separa elementos), Relleno es espacio DENTRO (separa contenido del borde)", "Al rev√©s", "Solo sirven para texto"], a: 1, e: "Margen separa cajas entre s√≠. Relleno hace la caja m√°s grande por dentro." },
        { q: "¬øQu√© es el 'Modo Responsive' en Elementor?", o: ["Un modo r√°pido", "La herramienta para adaptar el dise√±o a M√≥vil y Tablet", "Un plugin", "Un error"], a: 1, e: "Te permite cambiar tama√±os de letra o m√°rgenes solo para el m√≥vil." },
        { q: "Si quieres que una secci√≥n ocupe toda la altura de la pantalla, ¬øqu√© pones?", o: ["Alto: 500px", "Alto M√≠nimo: 100 VH (Viewport Height)", "Ancho completo", "Padding 0"], a: 1, e: "100 VH significa el 100% de la altura visible del dispositivo." },
        { q: "¬øQu√© es una Plantilla (Template) de Elementor?", o: ["Un dise√±o guardado (ej: una cabecera) que puedes reutilizar en toda la web", "Un plugin", "Una p√°gina", "Un men√∫"], a: 0, e: "Ahorra tiempo y mantiene la coherencia del dise√±o." },
        { q: "¬øPara qu√© sirve el Z-Index?", o: ["Para el zoom", "Para decidir qu√© elemento se ve encima de otro (capas)", "Para el color", "Para el borde"], a: 1, e: "Cuanto mayor es el n√∫mero, m√°s 'arriba' est√° el elemento." },
        { q: "¬øC√≥mo arreglas que el men√∫ tape el t√≠tulo de una secci√≥n al hacer clic en un enlace (ancla)?", o: ["Borrando el men√∫", "Usando la opci√≥n 'Desplazamiento de ancla' (Offset)", "Con margen negativo", "No tiene arreglo"], a: 1, e: "Compensa la altura del men√∫ fijo." },
        { q: "¬øQu√© es un 'Global Color'?", o: ["Un color mundial", "Un color guardado en ajustes que, si lo cambias, se actualiza en toda la web", "Un fondo", "Un error"], a: 1, e: "Esencial para cambiar la identidad corporativa r√°pidamente." },
        { q: "¬øQu√© diferencia hay entre 'Elementor Canvas' y 'Elementor Ancho Completo'?", o: ["Ninguna", "Canvas borra cabecera y pie (lienzo en blanco); Ancho Completo mantiene cabecera/pie del tema", "Canvas es para pintar", "Ancho Completo es m√°s lento"], a: 1, e: "Canvas es ideal para Landing Pages." },
        { q: "¬øC√≥mo copias el estilo (color, fuente) de un widget a otro r√°pidamente?", o: ["No se puede", "Clic derecho > Copiar, y en el otro Clic derecho > Pegar Estilo", "Anotando los c√≥digos", "Usando un plugin"], a: 1, e: "Ahorra tener que configurar cada widget manualmente." },
        { q: "¬øPara qu√© sirve el 'Historial' (icono de reloj) en Elementor?", o: ["Para ver la hora", "Para deshacer cambios recientes (acciones) o volver a versiones guardadas anteriormente", "Para ver qui√©n visita la web", "Para medir tiempos"], a: 1, e: "Tu salvavidas si rompes el dise√±o y quieres volver atr√°s." },
        { q: "¬øQu√© es un 'Divisor de Forma' (Shape Divider)?", o: ["Una l√≠nea", "Formas decorativas (olas, curvas, nubes) que se ponen arriba o abajo de una secci√≥n", "Un error", "Un widget de texto"], a: 1, e: "Recurso de dise√±o muy usado para transiciones suaves." },
        { q: "Si quieres que un elemento aparezca con una animaci√≥n al hacer scroll, ¬ød√≥nde vas?", o: ["Estilo > Tipograf√≠a", "Avanzado > Efectos de movimiento > Animaci√≥n de entrada", "Contenido", "Ajustes del sitio"], a: 1, e: "Fade In, Slide Up, Zoom In, etc." },
        { q: "¬øQu√© significa el icono de escritorio/tablet/m√≥vil junto a una propiedad en Elementor?", o: ["Que solo funciona en escritorio", "Que puedes definir valores distintos para cada dispositivo (Responsive)", "Que es de pago", "Nada"], a: 1, e: "Ejemplo: Tama√±o de letra 50px en PC y 20px en M√≥vil." },
        { q: "¬øQu√© es una 'Etiqueta Din√°mica' (Dynamic Tag) en Elementor Pro?", o: ["Una etiqueta HTML", "Una funci√≥n para que un widget muestre datos variables de la DB (ej: T√≠tulo del Post) en vez de texto fijo", "Un error", "Un plugin"], a: 1, e: "La base para crear plantillas que se rellenan solas." },

        // BLOQUE 3: WOOCOMMERCE
        { q: "¬øQu√© tipo de producto usas para vender una camiseta con tallas S, M y L?", o: ["Producto Simple", "Producto Variable", "Producto Virtual", "Producto Externo"], a: 1, e: "Permite crear variaciones, cada una con su stock y precio." },
        { q: "Si vendes un servicio o un PDF (algo que no se env√≠a en caja), ¬øqu√© casilla marcas?", o: ["Virtual", "F√≠sico", "Agrupado", "Externo"], a: 0, e: "Al marcar 'Virtual', desaparecen los costes de env√≠o en el carrito." },
        { q: "¬øQu√© estado de pedido significa que el pago ha sido correcto?", o: ["Pendiente de pago", "Cancelado", "Procesando", "En espera"], a: 2, e: "Significa que el dinero ha llegado y debes preparar el pedido." },
        { q: "¬øPara qu√© sirve una 'Zona de Env√≠o'?", o: ["Para saber d√≥nde est√° el almac√©n", "Para definir precios de env√≠o distintos seg√∫n el lugar (ej: Pen√≠nsula vs Canarias)", "Para el mapa", "Para los impuestos"], a: 1, e: "Permite cobrar portes diferentes seg√∫n el destino." },
        { q: "¬øD√≥nde se gestionan los pedidos recibidos?", o: ["En Entradas", "En WooCommerce > Pedidos", "En Productos", "En Ajustes"], a: 1, e: "Es tu bandeja de entrada de ventas." },
        { q: "¬øQu√© m√©todo de pago podemos usar en el curso para simular compras?", o: ["Bitcoin", "Transferencia bancaria o Contrareembolso", "Tarjeta real obligatoria", "Paypal real"], a: 1, e: "Permite probar todo el proceso de compra sin gastar dinero real." },
        { q: "Si quieres vender productos de Amazon (Afiliados), ¬øqu√© tipo usas?", o: ["Producto Simple", "Producto Externo/Afiliado", "Producto Variable", "Virtual"], a: 1, e: "El bot√≥n de compra lleva a la web de Amazon en vez de al carrito." },
        { q: "¬øPor qu√© no sale la pesta√±a de Impuestos al principio?", o: ["Es de pago", "Hay que activarla en Ajustes > General primero", "Es un error", "No existe"], a: 1, e: "WooCommerce viene simplificado por defecto." },
        { q: "¬øQu√© plugin mejora los desplegables de tallas poni√©ndolos como botoncitos de colores?", o: ["Contact Form 7", "Variation Swatches", "Yoast", "Jetpack"], a: 1, e: "Mejora mucho la experiencia de usuario visual." },
        { q: "¬øQu√© es el SKU de un producto?", o: ["El precio", "Un c√≥digo √∫nico de referencia interna (Stock Keeping Unit)", "El nombre", "La imagen"], a: 1, e: "Opcional pero recomendado para inventarios grandes." },
        { q: "¬øC√≥mo activas el uso de Cupones de descuento?", o: ["Viene siempre activo", "En WooCommerce > Ajustes > General > Activar cupones", "En Productos", "Con un plugin extra"], a: 1, e: "Si no marcas la casilla, el campo de 'Introducir cup√≥n' no sale en el carrito." },
        { q: "Si quieres gestionar el stock (unidades disponibles), ¬øqu√© marcas en el producto?", o: ["Nada", "Pesta√±a Inventario > Gesti√≥n de inventario", "Poner el precio", "Pesta√±a Env√≠o"], a: 1, e: "Permite poner cantidad (ej: 50) y que se reste al vender." },
        { q: "¬øQu√© permite la opci√≥n 'Permitir compra como invitado'?", o: ["Regalar productos", "Que los clientes compren sin tener que crearse una cuenta", "Que compren gratis", "Nada"], a: 1, e: "Reduce la fricci√≥n en el checkout y aumenta conversiones." },
        { q: "Si un cliente pide devoluci√≥n, ¬øc√≥mo se hace el Reembolso en WooCommerce?", o: ["Por transferencia manual", "Desde el propio pedido > Bot√≥n Reembolso", "Borrando el pedido", "No se puede"], a: 1, e: "Genera registros contables negativos correctos." },
        { q: "¬øQu√© son los 'Productos relacionados' que salen abajo?", o: ["Publicidad", "Productos de la misma categor√≠a o etiqueta que WC muestra autom√°ticamente", "Productos caros", "Un error"], a: 1, e: "Ayudan a la navegaci√≥n cruzada." },

        // BLOQUE 4: PLUGINS Y MANTENIMIENTO
        { q: "¬øQu√© es 'LocalWP'?", o: ["Un plugin", "Un programa para crear webs en tu ordenador sin internet", "Un hosting", "Un tema"], a: 1, e: "Es donde desarrollamos las webs en el curso." },
        { q: "¬øPara qu√© sirve el plugin 'Yoast SEO'?", o: ["Para dise√±ar", "Para ayudar a posicionar en Google (sem√°foros verde/rojo)", "Para seguridad", "Para copias"], a: 1, e: "Te gu√≠a para poner t√≠tulos y descripciones que gusten a Google." },
        { q: "¬øQu√© hace un plugin de Copias de Seguridad (Backup)?", o: ["Borra la web", "Guarda una copia de todos los archivos y base de datos por si algo se rompe", "Traduce", "Vende"], a: 1, e: "Ejemplos: All-in-One WP Migration o Duplicator." },
        { q: "¬øPara qu√© sirve 'Contact Form 7'?", o: ["Para crear formularios de contacto", "Para SEO", "Para tiendas", "Para seguridad"], a: 0, e: "Es el est√°ndar cl√°sico para formularios." },
        { q: "¬øQu√© hace un plugin de Seguridad como Wordfence?", o: ["Mejora el dise√±o", "Protege la web de ataques y virus (Firewall)", "Vende productos", "Traduce"], a: 1, e: "Bloquea intentos de acceso maliciosos." },
        { q: "¬øQu√© es 'Squoosh'?", o: ["Un juego", "Una web de Google para comprimir im√°genes antes de subirlas", "Un plugin", "Un tema"], a: 1, e: "Clave para que las fotos pesen poco." },
        { q: "¬øQu√© es 'Loco Translate'?", o: ["Un traductor autom√°tico", "Un plugin para traducir textos t√©cnicos del tema (ej: 'Read more' -> 'Leer m√°s')", "Un mapa", "Un error"], a: 1, e: "Permite traducir las cadenas internas de WordPress." },
        { q: "¬øQu√© es un CPT (Custom Post Type)?", o: ["Un post normal", "Un tipo de contenido personalizado (ej: Proyectos, Inmuebles, Recetas)", "Un usuario", "Un plugin"], a: 1, e: "Se usa cuando las Entradas y P√°ginas se quedan cortas." },
        { q: "¬øQu√© es un Shortcode?", o: ["Un c√≥digo corto entre corchetes [ ] que invoca una funci√≥n", "Un error", "Una contrase√±a", "Un virus"], a: 0, e: "Ejemplo: [contact-form-7 id='123']." },
        { q: "¬øQu√© es el 'Lazy Load'?", o: ["Carga lenta", "Carga diferida (las im√°genes cargan solo cuando bajas a verlas)", "Un error", "Un virus"], a: 1, e: "Mejora la velocidad inicial de carga." },
        { q: "¬øPara qu√© sirve 'Akismet'?", o: ["Para SEO", "Para filtrar el SPAM en los comentarios y formularios", "Para dise√±ar", "Para copias"], a: 1, e: "Viene preinstalado en WordPress." },
        { q: "¬øQu√© hace el plugin 'Redirection'?", o: ["Redirige usuarios", "Gestiona redirecciones 301 y monitoriza errores 404 autom√°ticamente", "Borra la web", "Crea men√∫s"], a: 1, e: "Muy √∫til si cambias URLs antiguas por nuevas para no perder SEO." },
        { q: "¬øQu√© funci√≥n cumple 'Really Simple SSL'?", o: ["Pone el candado", "Fuerza la web a cargar en HTTPS y arregla contenido mixto autom√°ticamente", "Crea certificados", "Nada"], a: 1, e: "Soluci√≥n r√°pida para errores de seguridad b√°sicos." },
        { q: "¬øQu√© hace 'Smush' o 'Imagify'?", o: ["Crea galer√≠as", "Comprimen y optimizan las im√°genes autom√°ticamente al subirlas", "Borran fotos", "Ponen marcas de agua"], a: 1, e: "WPO: Ahorran espacio y mejoran velocidad." },
        { q: "¬øQu√© es 'Cookie Notice' o 'CookieYes'?", o: ["Un plugin de cocina", "A√±ade el banner de consentimiento de cookies para cumplir la ley", "Borra cookies", "Rastrea usuarios"], a: 1, e: "Obligatorio para cumplimiento legal en Europa." },

        // BLOQUE 5: APARIENCIA Y MEN√öS
        { q: "¬øC√≥mo a√±ades un enlace personalizado (ej: a Facebook) en el men√∫?", o: ["No se puede", "En Apariencia > Men√∫s > Enlaces personalizados", "Creando una p√°gina", "Con un plugin"], a: 1, e: "Permite poner URLs externas en la navegaci√≥n." },
        { q: "Si activas un tema nuevo, ¬øqu√© pasa con los Widgets?", o: ["Se quedan igual", "A veces se mueven a 'Widgets inactivos' si las √°reas cambian", "Se borran", "Se duplican"], a: 1, e: "Depende de c√≥mo se llamen las √°reas (Sidebars) en el nuevo tema." },
        { q: "¬øD√≥nde se cambia el logotipo de la web generalmente?", o: ["En el c√≥digo", "En Apariencia > Personalizar > Identidad del sitio", "En Medios", "En Ajustes"], a: 1, e: "Es la ubicaci√≥n est√°ndar de WordPress." },
        { q: "¬øQu√© es un 'Widget de pie de p√°gina'?", o: ["Un error", "Contenido que aparece en las columnas del footer (ej: Copyright, Mapa, Enlaces)", "Un men√∫", "Una entrada"], a: 1, e: "Se configuran en Apariencia > Widgets." },
        { q: "Si quieres crear un men√∫ desplegable (submen√∫), ¬øc√≥mo lo haces?", o: ["Con c√≥digo", "En Apariencia > Men√∫s, arrastrando un elemento ligeramente a la derecha debajo del 'padre'", "Creando carpetas", "No se puede"], a: 1, e: "La jerarqu√≠a visual crea la estructura desplegable." },
        { q: "¬øQu√© pasa si editas el CSS en 'CSS Adicional'?", o: ["Se borra al actualizar WP", "Se guarda en la base de datos y se aplica sobre el tema sin riesgo", "Rompe la web", "Nada"], a: 1, e: "Es una forma segura de hacer peque√±os retoques visuales." },

        // BLOQUE 6: SALUD Y GENERAL
        { q: "¬øD√≥nde puedes ver si tu WordPress tiene problemas cr√≠ticos (PHP antiguo, errores)?", o: ["En el dashboard", "En Herramientas > Salud del sitio (Site Health)", "En Ajustes", "En Google"], a: 1, e: "Te da una puntuaci√≥n y consejos de mejora." },
        { q: "Si activas el 'Modo Mantenimiento', ¬øqu√© ven los usuarios?", o: ["La web normal", "Una p√°gina de aviso (Estamos trabajando...) y no pueden navegar", "Un error 404", "Nada"], a: 1, e: "Se usa para que nadie vea la web rota mientras haces cambios grandes." },
        { q: "Si un plugin rompe la web y no puedes entrar al admin, ¬øqu√© haces?", o: ["Llorar", "Entrar por FTP/Hosting y renombrar la carpeta del plugin para desactivarlo", "Reinstalar todo", "Cambiar contrase√±a"], a: 1, e: "Truco de emergencia para recuperar el acceso." },
        { q: "¬øQu√© es la 'Cach√© del navegador'?", o: ["Un virus", "Archivos que se guardan en el ordenador del visitante para no descargarlos de nuevo", "Una base de datos", "Un plugin"], a: 1, e: "Mejora la velocidad de carga para visitantes recurrentes." },
        { q: "¬øQu√© es un 'Enlace Roto'?", o: ["Un link que lleva a una p√°gina que ya no existe (404)", "Un link feo", "Un link azul", "Un virus"], a: 1, e: "Malo para el usuario y para el SEO." },
        { q: "¬øPara qu√© sirve 'Regenerar miniaturas' (Regenerate Thumbnails)?", o: ["Para borrar fotos", "Para volver a crear los tama√±os de imagen si cambias de tema", "Para subir calidad", "Para bajar peso"], a: 1, e: "Si las fotos se ven deformes tras cambiar de dise√±o, usa esto." },
        { q: "¬øQu√© es el 'Hosting'?", o: ["El nombre de la web", "El espacio en un servidor donde se guardan tus archivos (la casa)", "El dise√±o", "El navegador"], a: 1, e: "Sin hosting no hay web online." },
        { q: "¬øQu√© es el 'Dominio'?", o: ["El hosting", "La direcci√≥n de la web (ej: google.com)", "El dise√±o", "El c√≥digo"], a: 1, e: "Es lo que escribes en la barra del navegador." },
        { q: "¬øQu√© es HTTPS (el candadito)?", o: ["Seguridad (conexi√≥n cifrada)", "Web lenta", "Web antigua", "Virus"], a: 0, e: "Obligatorio hoy en d√≠a para que la web sea segura." },
        { q: "¬øQu√© es el 'Responsive Design'?", o: ["Que la web responda r√°pido", "Que la web se adapte bien a m√≥viles y tablets", "Que sea barata", "Que sea azul"], a: 1, e: "La web debe verse bien en cualquier tama√±o de pantalla." },
        { q: "¬øQu√© es el texto ALT de una imagen?", o: ["El t√≠tulo", "Descripci√≥n para Google y personas ciegas", "El borde", "El pie de foto"], a: 1, e: "Importante para el SEO y la accesibilidad." },
        { q: "¬øQu√© documento legal es obligatorio tener en la web?", o: ["Pol√≠tica de Privacidad", "El curr√≠culum", "Instagram", "Nada"], a: 0, e: "Debes informar de qu√© haces con los datos de los usuarios." },
        { q: "Si la web se queda en blanco (Pantalla Blanca), ¬øqu√© suele ser?", o: ["Se rompi√≥ el monitor", "Error interno, normalmente por un plugin incompatible", "Virus", "Internet lento"], a: 1, e: "Suele arreglarse desactivando el √∫ltimo plugin instalado." },
        { q: "¬øCu√°l es el peso recomendado para una imagen web?", o: ["5 MB", "1 MB", "Menos de 200 KB aprox", "No importa"], a: 2, e: "Si pesan mucho, la web ir√° muy lenta." },
        { q: "¬øQu√© es un Favicon?", o: ["El logo grande", "El icono peque√±ito en la pesta√±a del navegador", "El pie de p√°gina", "Un men√∫"], a: 1, e: "Ayuda a identificar la web en las pesta√±as abiertas." },
        { q: "¬øQu√© es un Mockup?", o: ["Un dise√±o visual (boceto) de c√≥mo ser√° la web antes de hacerla", "Una copia de seguridad", "Un virus", "Un c√≥digo"], a: 0, e: "Se hace en Photoshop/Figma para ense√±ar al cliente." },
        
        // BLOQUE 7: DETALLES EXAMEN
        { q: "¬øCu√°ntas horas m√≠nimas de trabajo debe reflejar el proyecto?", o: ["10 horas", "40 horas", "100 horas", "1 hora"], a: 1, e: "Equivale a una semana de trabajo intensivo." },
        { q: "¬øSe puede usar texto falso 'Lorem Ipsum' en el proyecto final?", o: ["S√≠, en todas partes", "No, est√° prohibido (debe ser contenido real o realista)", "Solo en el blog", "Da igual"], a: 1, e: "El contenido es parte fundamental de la evaluaci√≥n." },
        { q: "¬øQu√© es obligatorio entregar junto con la URL de la web?", o: ["Nada m√°s", "Una Memoria en PDF y una copia de seguridad (.wpress)", "El DNI", "Una foto"], a: 1, e: "Sin la memoria explicativa no se corrige." },
        { q: "Si usas Inteligencia Artificial (IA) en el proyecto, ¬øqu√© debes hacer?", o: ["No decir nada", "Explicarlo en la memoria (qu√© prompts usaste)", "Pagar un extra", "Est√° prohibido"], a: 1, e: "Se permite, pero siendo transparente sobre su uso." },
        { q: "¬øQu√© pasa si suspendes 4 veces el examen/proyecto?", o: ["Nada", "Pierdes el derecho al diploma", "Pagas m√°s", "Repites gratis"], a: 1, e: "Es el l√≠mite de convocatorias." },
        { q: "¬øC√≥mo se llama el editor nativo de WordPress para escribir entradas?", o: ["Classic", "Gutenberg (Editor de bloques)", "Elementor", "Divi"], a: 1, e: "Es el sistema de bloques que viene por defecto." },
        { q: "¬øQu√© es la 'Jerarqu√≠a de Plantillas'?", o: ["El orden de los jefes", "Las reglas que sigue WordPress para elegir qu√© dise√±o mostrar (ej: si no hay category.php, usa archive.php)", "Un plugin", "Un error"], a: 1, e: "Es la l√≥gica interna del motor de temas." },
        { q: "¬øQu√© es un 'Sidebar'?", o: ["Una barra lateral donde poner widgets", "El men√∫ superior", "El pie de p√°gina", "Un error"], a: 0, e: "Cl√°sico en los blogs para poner categor√≠as o buscadores." },
        { q: "¬øQu√© es una 'Categor√≠a' en el blog?", o: ["Una etiqueta", "Una forma de agrupar temas generales (ej: Deportes, Cine) de forma jer√°rquica", "Una p√°gina", "Un usuario"], a: 1, e: "Es jer√°rquica (pueden tener subcategor√≠as)." },
        { q: "¬øQu√© es una 'Etiqueta' (Tag)?", o: ["Una categor√≠a", "Una palabra clave espec√≠fica para describir un post sin jerarqu√≠a", "Un men√∫", "Un plugin"], a: 1, e: "No tienen jerarqu√≠a, son detalles puntuales." },
        { q: "¬øQu√© es 'MySQL'?", o: ["La base de datos donde se guarda todo el contenido de texto y configuraci√≥n", "El dise√±o", "El servidor", "Un plugin"], a: 0, e: "Es donde WordPress escribe tus posts y ajustes." },
        { q: "¬øQu√© es 'PHP'?", o: ["Un dise√±o", "El lenguaje de programaci√≥n con el que est√° hecho WordPress", "Una imagen", "Un plugin"], a: 1, e: "Se ejecuta en el servidor para generar la web." },
        { q: "¬øQu√© es un 'iframe'?", o: ["Una ventana para incrustar contenido de otra web (ej: YouTube)", "Una imagen", "Un virus", "Un men√∫"], a: 0, e: "La forma est√°ndar de poner mapas o v√≠deos externos." },
        { q: "Si cambias de tema, ¬øpierdes tus entradas?", o: ["S√≠", "No, el contenido sigue en la base de datos, solo cambia el dise√±o", "Solo las fotos", "A veces"], a: 1, e: "El contenido y el dise√±o est√°n separados." }
    ];

    // VARIABLES DE ESTADO
    let questions = []; 
    let userAnswers = {};
    let timer;
    let timeLeft = 45 * 60; // 45 min
    let isPaused = false;

    // INICIALIZACI√ìN
    function init() {
        // 1. Barajar y coger 50
        questions = DB.sort(() => 0.5 - Math.random()).slice(0, 50);
        
        // 2. Renderizar
        const container = document.getElementById('quiz-container');
        container.innerHTML = ""; 
        
        questions.forEach((q, index) => {
            let html = `
                <div class="card" id="card-${index}">
                    <div class="q-text">${index + 1}. ${q.q}</div>
                    <div class="options-group">
            `;
            
            let indices = q.o.map((_, i) => i);

            indices.forEach(i => {
                html += `
                    <label class="option-label" id="lbl-${index}-${i}">
                        <input type="radio" name="q_${index}" value="${i}">
                        ${q.o[i]}
                    </label>
                `;
            });

            html += `
                    </div>
                    <div class="explanation-box" id="exp-${index}"></div>
                </div>
            `;
            container.innerHTML += html;
        });

        startTimer();
        
        // Listener de progreso
        document.querySelectorAll('input[type="radio"]').forEach(input => {
            input.addEventListener('change', updateProgress);
        });
    }

    // 2. CORRECCI√ìN FINAL CON TUS BAREMOS EXACTOS
    window.finishExam = function() {
        clearInterval(timer);

        questions.forEach((q, index) => {
            const card = document.getElementById(`card-${index}`);
            const expBox = document.getElementById(`exp-${index}`);
            const selected = document.querySelector(`input[name="q_${index}"]:checked`);
            
            // L√≥gica de correcci√≥n visual
            if (selected) {
                const val = parseInt(selected.value);
                userAnswers[index] = (val === q.a);
                
                if (val === q.a) {
                    // Acert√≥
                    document.getElementById(`lbl-${index}-${val}`).classList.add('correct-answer');
                    card.classList.add('correct-card');
                    expBox.innerHTML = `<strong>‚úÖ ¬°CORRECTO!</strong><br>${q.e}`;
                } else {
                    // Fall√≥
                    document.getElementById(`lbl-${index}-${val}`).classList.add('user-wrong');
                    document.getElementById(`lbl-${index}-${q.a}`).classList.add('correct-answer');
                    card.classList.add('wrong-card');
                    expBox.innerHTML = `<strong>‚ùå INCORRECTO</strong><br>La respuesta correcta era la marcada en verde.<br><em>${q.e}</em>`;
                }
            } else {
                // En blanco
                userAnswers[index] = false;
                document.getElementById(`lbl-${index}-${q.a}`).classList.add('correct-answer');
                card.classList.add('wrong-card');
                expBox.innerHTML = `<strong>‚ö™ SIN RESPONDER</strong><br>La respuesta correcta era la marcada en verde.<br><em>${q.e}</em>`;
            }
            
            expBox.style.display = "block";
            
            // Bloquear inputs
            card.querySelectorAll('input').forEach(i => i.disabled = true);
        });

        // C√ÅLCULO DE NOTA (SEG√öN TU BAREMO)
        const totalAciertos = Object.values(userAnswers).filter(r => r === true).length;
        const totalFallos = questions.length - totalAciertos;
        const totalBlank = 50 - Object.keys(userAnswers).length; // Ajuste por si el array userAnswers no se llen√≥
        
        let mensaje = "";
        let color = "";
        let colorCode = "";

        if (totalAciertos >= 45) { // 45 a 50
            mensaje = "SOBRESALIENTE üèÜ";
            colorCode = "#00a32a";
        } else if (totalAciertos >= 40) { // 40 a 44
            mensaje = "NOTABLE üåü";
            colorCode = "#2271b1";
        } else if (totalAciertos >= 35) { // 35 a 39
            mensaje = "BIEN üëç";
            colorCode = "#2271b1";
        } else if (totalAciertos >= 30) { // 30 a 34
            mensaje = "APTO üëå";
            colorCode = "#e6a800";
        } else {
            mensaje = "NO APTO / SUSPENSO ‚ùå";
            colorCode = "#d63638";
        }

        // Mostrar en Modal
        document.getElementById('score-circle').innerText = totalAciertos;
        document.getElementById('score-circle').style.background = colorCode;
        
        const verdictEl = document.getElementById('verdict-text');
        verdictEl.innerText = mensaje;
        verdictEl.style.color = colorCode;

        document.getElementById('res-correct').innerText = totalAciertos;
        // Fallos totales (incluye blancos) para el contador simple
        document.getElementById('res-wrong').innerText = 50 - totalAciertos; 
        
        // Contar blancos reales para estad√≠stica
        let realBlanks = 0;
        for(let i=0; i<50; i++) {
            if(!document.querySelector(`input[name="q_${i}"]:checked`)) realBlanks++;
        }
        document.getElementById('res-blank').innerText = realBlanks;
        document.getElementById('res-wrong').innerText = (50 - totalAciertos) - realBlanks; // Ajustar fallos marcados

        document.getElementById('result-modal').style.display = 'flex';
    };

    function startTimer() {
        timer = setInterval(() => {
            if(!isPaused) {
                timeLeft--;
                let m = Math.floor(timeLeft / 60);
                let s = timeLeft % 60;
                document.getElementById('timer').innerText = `${m}:${s < 10 ? '0'+s : s}`;
                if(timeLeft <= 0) finishExam();
            }
        }, 1000);
    }

    window.togglePause = function() {
        isPaused = !isPaused;
        document.getElementById('pause-modal').style.display = isPaused ? 'flex' : 'none';
    };

    function updateProgress() {
        const total = 50;
        const answered = document.querySelectorAll('input[type="radio"]:checked').length;
        document.getElementById('progress').style.width = `${(answered/total)*100}%`;
    }

    // Arrancar
    init();

</script>
</body>
</html>